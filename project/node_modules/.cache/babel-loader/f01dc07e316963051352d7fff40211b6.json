{"ast":null,"code":"import { isSymbolNode } from '../../../utils/is.js';\nimport { createSubScope } from '../../../utils/scope.js';\n/**\r\n * Compile an inline expression like \"x > 0\"\r\n * @param {Node} expression\r\n * @param {Object} math\r\n * @param {Object} scope\r\n * @return {function} Returns a function with one argument which fills in the\r\n *                    undefined variable (like \"x\") and evaluates the expression\r\n */\n\nexport function compileInlineExpression(expression, math, scope) {\n  // find an undefined symbol\n  var symbol = expression.filter(function (node) {\n    return isSymbolNode(node) && !(node.name in math) && !scope.has(node.name);\n  })[0];\n\n  if (!symbol) {\n    throw new Error('No undefined variable found in inline expression \"' + expression + '\"');\n  } // create a test function for this equation\n\n\n  var name = symbol.name; // variable name\n\n  var subScope = createSubScope(scope);\n  var eq = expression.compile();\n  return function inlineExpression(x) {\n    subScope.set(name, x);\n    return eq.evaluate(subScope);\n  };\n}","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/mathjs/lib/esm/expression/transform/utils/compileInlineExpression.js"],"names":["isSymbolNode","createSubScope","compileInlineExpression","expression","math","scope","symbol","filter","node","name","has","Error","subScope","eq","compile","inlineExpression","x","set","evaluate"],"mappings":"AAAA,SAASA,YAAT,QAA6B,sBAA7B;AACA,SAASC,cAAT,QAA+B,yBAA/B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,uBAAT,CAAiCC,UAAjC,EAA6CC,IAA7C,EAAmDC,KAAnD,EAA0D;AAC/D;AACA,MAAIC,MAAM,GAAGH,UAAU,CAACI,MAAX,CAAkB,UAAUC,IAAV,EAAgB;AAC7C,WAAOR,YAAY,CAACQ,IAAD,CAAZ,IAAsB,EAAEA,IAAI,CAACC,IAAL,IAAaL,IAAf,CAAtB,IAA8C,CAACC,KAAK,CAACK,GAAN,CAAUF,IAAI,CAACC,IAAf,CAAtD;AACD,GAFY,EAEV,CAFU,CAAb;;AAGA,MAAI,CAACH,MAAL,EAAa;AACX,UAAM,IAAIK,KAAJ,CAAU,uDAAuDR,UAAvD,GAAoE,GAA9E,CAAN;AACD,GAP8D,CAS/D;;;AACA,MAAIM,IAAI,GAAGH,MAAM,CAACG,IAAlB,CAV+D,CAUvC;;AACxB,MAAIG,QAAQ,GAAGX,cAAc,CAACI,KAAD,CAA7B;AACA,MAAIQ,EAAE,GAAGV,UAAU,CAACW,OAAX,EAAT;AACA,SAAO,SAASC,gBAAT,CAA0BC,CAA1B,EAA6B;AAClCJ,IAAAA,QAAQ,CAACK,GAAT,CAAaR,IAAb,EAAmBO,CAAnB;AACA,WAAOH,EAAE,CAACK,QAAH,CAAYN,QAAZ,CAAP;AACD,GAHD;AAID","sourcesContent":["import { isSymbolNode } from '../../../utils/is.js';\r\nimport { createSubScope } from '../../../utils/scope.js';\r\n\r\n/**\r\n * Compile an inline expression like \"x > 0\"\r\n * @param {Node} expression\r\n * @param {Object} math\r\n * @param {Object} scope\r\n * @return {function} Returns a function with one argument which fills in the\r\n *                    undefined variable (like \"x\") and evaluates the expression\r\n */\r\nexport function compileInlineExpression(expression, math, scope) {\r\n  // find an undefined symbol\r\n  var symbol = expression.filter(function (node) {\r\n    return isSymbolNode(node) && !(node.name in math) && !scope.has(node.name);\r\n  })[0];\r\n  if (!symbol) {\r\n    throw new Error('No undefined variable found in inline expression \"' + expression + '\"');\r\n  }\r\n\r\n  // create a test function for this equation\r\n  var name = symbol.name; // variable name\r\n  var subScope = createSubScope(scope);\r\n  var eq = expression.compile();\r\n  return function inlineExpression(x) {\r\n    subScope.set(name, x);\r\n    return eq.evaluate(subScope);\r\n  };\r\n}"]},"metadata":{},"sourceType":"module"}