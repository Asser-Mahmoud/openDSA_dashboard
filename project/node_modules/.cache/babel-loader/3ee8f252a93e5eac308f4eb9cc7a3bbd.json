{"ast":null,"code":"/**\n * SanitizeHtmlHelper for sanitize the value.\n */\nimport { detach } from './dom';\nvar removeTags = ['script', 'style', 'iframe[src]', 'link[href*=\"javascript:\"]', 'object[type=\"text/x-scriptlet\"]', 'object[data^=\"data:text/html;base64\"]', 'img[src^=\"data:text/html;base64\"]', '[src^=\"javascript:\"]', '[dynsrc^=\"javascript:\"]', '[lowsrc^=\"javascript:\"]', '[type^=\"application/x-shockwave-flash\"]'];\nvar removeAttrs = [{\n  attribute: 'href',\n  selector: '[href*=\"javascript:\"]'\n}, {\n  attribute: 'background',\n  selector: '[background^=\"javascript:\"]'\n}, {\n  attribute: 'style',\n  selector: '[style*=\"javascript:\"]'\n}, {\n  attribute: 'style',\n  selector: '[style*=\"expression(\"]'\n}, {\n  attribute: 'href',\n  selector: 'a[href^=\"data:text/html;base64\"]'\n}];\nvar jsEvents = ['onchange', 'onclick', 'onmouseover', 'onmouseout', 'onkeydown', 'onload', 'onerror', 'onblur', 'onfocus', 'onbeforeload', 'onbeforeunload', 'onkeyup', 'onsubmit', 'onafterprint', 'onbeforeonload', 'onbeforeprint', 'oncanplay', 'oncanplaythrough', 'oncontextmenu', 'ondblclick', 'ondrag', 'ondragend', 'ondragenter', 'ondragleave', 'ondragover', 'ondragstart', 'ondrop', 'ondurationchange', 'onemptied', 'onended', 'onformchange', 'onforminput', 'onhaschange', 'oninput', 'oninvalid', 'onkeypress', 'onloadeddata', 'onloadedmetadata', 'onloadstart', 'onmessage', 'onmousedown', 'onmousemove', 'onmouseup', 'onmousewheel', 'onoffline', 'onoine', 'ononline', 'onpagehide', 'onpageshow', 'onpause', 'onplay', 'onplaying', 'onpopstate', 'onprogress', 'onratechange', 'onreadystatechange', 'onredo', 'onresize', 'onscroll', 'onseeked', 'onseeking', 'onselect', 'onstalled', 'onstorage', 'onsuspend', 'ontimeupdate', 'onundo', 'onunload', 'onvolumechange', 'onwaiting', 'onmouseenter', 'onmouseleave', 'onstart', 'onpropertychange', 'oncopy', 'ontoggle', 'onpointerout', 'onpointermove', 'onpointerleave', 'onpointerenter', 'onpointerrawupdate', 'onpointerover', 'onbeforecopy', 'onbeforecut', 'onbeforeinput'];\n\nvar SanitizeHtmlHelper =\n/** @class */\nfunction () {\n  function SanitizeHtmlHelper() {}\n\n  SanitizeHtmlHelper.beforeSanitize = function () {\n    return {\n      selectors: {\n        tags: removeTags,\n        attributes: removeAttrs\n      }\n    };\n  };\n\n  SanitizeHtmlHelper.sanitize = function (value) {\n    var item = this.beforeSanitize();\n    var output = this.serializeValue(item, value);\n    return output;\n  };\n\n  SanitizeHtmlHelper.serializeValue = function (item, value) {\n    this.removeAttrs = item.selectors.attributes;\n    this.removeTags = item.selectors.tags;\n    this.wrapElement = document.createElement('div');\n    this.wrapElement.innerHTML = value;\n    this.removeXssTags();\n    this.removeJsEvents();\n    this.removeXssAttrs();\n    var tempEleValue = this.wrapElement.innerHTML;\n    this.removeElement();\n    return tempEleValue.replace('&amp;', '&');\n  };\n\n  SanitizeHtmlHelper.removeElement = function () {\n    // Removes an element's attibute to avoid html tag validation\n    var nodes = this.wrapElement.children;\n\n    for (var j = 0; j < nodes.length; j++) {\n      var attribute = nodes[parseInt(j.toString(), 10)].attributes;\n\n      for (var i = 0; i < attribute.length; i++) {\n        this.wrapElement.children[parseInt(j.toString(), 10)].removeAttribute(attribute[parseInt(i.toString(), 10)].localName);\n      }\n    }\n  };\n\n  SanitizeHtmlHelper.removeXssTags = function () {\n    var elements = this.wrapElement.querySelectorAll(this.removeTags.join(','));\n\n    if (elements.length > 0) {\n      elements.forEach(function (element) {\n        detach(element);\n      });\n    } else {\n      return;\n    }\n  };\n\n  SanitizeHtmlHelper.removeJsEvents = function () {\n    var elements = this.wrapElement.querySelectorAll('[' + jsEvents.join('],[') + ']');\n\n    if (elements.length > 0) {\n      elements.forEach(function (element) {\n        jsEvents.forEach(function (attr) {\n          if (element.hasAttribute(attr)) {\n            element.removeAttribute(attr);\n          }\n        });\n      });\n    } else {\n      return;\n    }\n  };\n\n  SanitizeHtmlHelper.removeXssAttrs = function () {\n    var _this = this; // eslint-disable-next-line\n\n\n    this.removeAttrs.forEach(function (item, index) {\n      var elements = _this.wrapElement.querySelectorAll(item.selector);\n\n      if (elements.length > 0) {\n        elements.forEach(function (element) {\n          element.removeAttribute(item.attribute);\n        });\n      }\n    });\n  };\n\n  return SanitizeHtmlHelper;\n}();\n\nexport { SanitizeHtmlHelper };","map":{"version":3,"sources":["C:/Users/amase/Desktop/open_dsa/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-lists/node_modules/@syncfusion/ej2-base/src/sanitize-helper.js"],"names":["detach","removeTags","removeAttrs","attribute","selector","jsEvents","SanitizeHtmlHelper","beforeSanitize","selectors","tags","attributes","sanitize","value","item","output","serializeValue","wrapElement","document","createElement","innerHTML","removeXssTags","removeJsEvents","removeXssAttrs","tempEleValue","removeElement","replace","nodes","children","j","length","parseInt","toString","i","removeAttribute","localName","elements","querySelectorAll","join","forEach","element","attr","hasAttribute","_this","index"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAT,QAAuB,OAAvB;AACA,IAAIC,UAAU,GAAG,CACb,QADa,EAEb,OAFa,EAGb,aAHa,EAIb,2BAJa,EAKb,iCALa,EAMb,uCANa,EAOb,mCAPa,EAQb,sBARa,EASb,yBATa,EAUb,yBAVa,EAWb,yCAXa,CAAjB;AAaA,IAAIC,WAAW,GAAG,CACd;AAAEC,EAAAA,SAAS,EAAE,MAAb;AAAqBC,EAAAA,QAAQ,EAAE;AAA/B,CADc,EAEd;AAAED,EAAAA,SAAS,EAAE,YAAb;AAA2BC,EAAAA,QAAQ,EAAE;AAArC,CAFc,EAGd;AAAED,EAAAA,SAAS,EAAE,OAAb;AAAsBC,EAAAA,QAAQ,EAAE;AAAhC,CAHc,EAId;AAAED,EAAAA,SAAS,EAAE,OAAb;AAAsBC,EAAAA,QAAQ,EAAE;AAAhC,CAJc,EAKd;AAAED,EAAAA,SAAS,EAAE,MAAb;AAAqBC,EAAAA,QAAQ,EAAE;AAA/B,CALc,CAAlB;AAOA,IAAIC,QAAQ,GAAG,CAAC,UAAD,EACX,SADW,EAEX,aAFW,EAGX,YAHW,EAIX,WAJW,EAKX,QALW,EAMX,SANW,EAOX,QAPW,EAQX,SARW,EASX,cATW,EAUX,gBAVW,EAWX,SAXW,EAYX,UAZW,EAaX,cAbW,EAcX,gBAdW,EAeX,eAfW,EAgBX,WAhBW,EAiBX,kBAjBW,EAkBX,eAlBW,EAmBX,YAnBW,EAoBX,QApBW,EAqBX,WArBW,EAsBX,aAtBW,EAuBX,aAvBW,EAwBX,YAxBW,EAyBX,aAzBW,EA0BX,QA1BW,EA2BX,kBA3BW,EA4BX,WA5BW,EA6BX,SA7BW,EA8BX,cA9BW,EA+BX,aA/BW,EAgCX,aAhCW,EAiCX,SAjCW,EAkCX,WAlCW,EAmCX,YAnCW,EAoCX,cApCW,EAqCX,kBArCW,EAsCX,aAtCW,EAuCX,WAvCW,EAwCX,aAxCW,EAyCX,aAzCW,EA0CX,WA1CW,EA2CX,cA3CW,EA4CX,WA5CW,EA6CX,QA7CW,EA8CX,UA9CW,EA+CX,YA/CW,EAgDX,YAhDW,EAiDX,SAjDW,EAkDX,QAlDW,EAmDX,WAnDW,EAoDX,YApDW,EAqDX,YArDW,EAsDX,cAtDW,EAuDX,oBAvDW,EAwDX,QAxDW,EAyDX,UAzDW,EA0DX,UA1DW,EA2DX,UA3DW,EA4DX,WA5DW,EA6DX,UA7DW,EA8DX,WA9DW,EA+DX,WA/DW,EAgEX,WAhEW,EAiEX,cAjEW,EAkEX,QAlEW,EAmEX,UAnEW,EAoEX,gBApEW,EAqEX,WArEW,EAsEX,cAtEW,EAuEX,cAvEW,EAwEX,SAxEW,EAyEX,kBAzEW,EA0EX,QA1EW,EA2EX,UA3EW,EA4EX,cA5EW,EA6EX,eA7EW,EA8EX,gBA9EW,EA+EX,gBA/EW,EAgFX,oBAhFW,EAiFX,eAjFW,EAkFX,cAlFW,EAmFX,aAnFW,EAoFX,eApFW,CAAf;;AAsFA,IAAIC,kBAAkB;AAAG;AAAe,YAAY;AAChD,WAASA,kBAAT,GAA8B,CAC7B;;AACDA,EAAAA,kBAAkB,CAACC,cAAnB,GAAoC,YAAY;AAC5C,WAAO;AACHC,MAAAA,SAAS,EAAE;AACPC,QAAAA,IAAI,EAAER,UADC;AAEPS,QAAAA,UAAU,EAAER;AAFL;AADR,KAAP;AAMH,GAPD;;AAQAI,EAAAA,kBAAkB,CAACK,QAAnB,GAA8B,UAAUC,KAAV,EAAiB;AAC3C,QAAIC,IAAI,GAAG,KAAKN,cAAL,EAAX;AACA,QAAIO,MAAM,GAAG,KAAKC,cAAL,CAAoBF,IAApB,EAA0BD,KAA1B,CAAb;AACA,WAAOE,MAAP;AACH,GAJD;;AAKAR,EAAAA,kBAAkB,CAACS,cAAnB,GAAoC,UAAUF,IAAV,EAAgBD,KAAhB,EAAuB;AACvD,SAAKV,WAAL,GAAmBW,IAAI,CAACL,SAAL,CAAeE,UAAlC;AACA,SAAKT,UAAL,GAAkBY,IAAI,CAACL,SAAL,CAAeC,IAAjC;AACA,SAAKO,WAAL,GAAmBC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAnB;AACA,SAAKF,WAAL,CAAiBG,SAAjB,GAA6BP,KAA7B;AACA,SAAKQ,aAAL;AACA,SAAKC,cAAL;AACA,SAAKC,cAAL;AACA,QAAIC,YAAY,GAAG,KAAKP,WAAL,CAAiBG,SAApC;AACA,SAAKK,aAAL;AACA,WAAOD,YAAY,CAACE,OAAb,CAAqB,OAArB,EAA8B,GAA9B,CAAP;AACH,GAXD;;AAYAnB,EAAAA,kBAAkB,CAACkB,aAAnB,GAAmC,YAAY;AAC3C;AACA,QAAIE,KAAK,GAAG,KAAKV,WAAL,CAAiBW,QAA7B;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,UAAIzB,SAAS,GAAGuB,KAAK,CAACI,QAAQ,CAACF,CAAC,CAACG,QAAF,EAAD,EAAe,EAAf,CAAT,CAAL,CAAkCrB,UAAlD;;AACA,WAAK,IAAIsB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7B,SAAS,CAAC0B,MAA9B,EAAsCG,CAAC,EAAvC,EAA2C;AACvC,aAAKhB,WAAL,CAAiBW,QAAjB,CAA0BG,QAAQ,CAACF,CAAC,CAACG,QAAF,EAAD,EAAe,EAAf,CAAlC,EAAsDE,eAAtD,CAAsE9B,SAAS,CAAC2B,QAAQ,CAACE,CAAC,CAACD,QAAF,EAAD,EAAe,EAAf,CAAT,CAAT,CAAsCG,SAA5G;AACH;AACJ;AACJ,GATD;;AAUA5B,EAAAA,kBAAkB,CAACc,aAAnB,GAAmC,YAAY;AAC3C,QAAIe,QAAQ,GAAG,KAAKnB,WAAL,CAAiBoB,gBAAjB,CAAkC,KAAKnC,UAAL,CAAgBoC,IAAhB,CAAqB,GAArB,CAAlC,CAAf;;AACA,QAAIF,QAAQ,CAACN,MAAT,GAAkB,CAAtB,EAAyB;AACrBM,MAAAA,QAAQ,CAACG,OAAT,CAAiB,UAAUC,OAAV,EAAmB;AAChCvC,QAAAA,MAAM,CAACuC,OAAD,CAAN;AACH,OAFD;AAGH,KAJD,MAKK;AACD;AACH;AACJ,GAVD;;AAWAjC,EAAAA,kBAAkB,CAACe,cAAnB,GAAoC,YAAY;AAC5C,QAAIc,QAAQ,GAAG,KAAKnB,WAAL,CAAiBoB,gBAAjB,CAAkC,MAAM/B,QAAQ,CAACgC,IAAT,CAAc,KAAd,CAAN,GAA6B,GAA/D,CAAf;;AACA,QAAIF,QAAQ,CAACN,MAAT,GAAkB,CAAtB,EAAyB;AACrBM,MAAAA,QAAQ,CAACG,OAAT,CAAiB,UAAUC,OAAV,EAAmB;AAChClC,QAAAA,QAAQ,CAACiC,OAAT,CAAiB,UAAUE,IAAV,EAAgB;AAC7B,cAAID,OAAO,CAACE,YAAR,CAAqBD,IAArB,CAAJ,EAAgC;AAC5BD,YAAAA,OAAO,CAACN,eAAR,CAAwBO,IAAxB;AACH;AACJ,SAJD;AAKH,OAND;AAOH,KARD,MASK;AACD;AACH;AACJ,GAdD;;AAeAlC,EAAAA,kBAAkB,CAACgB,cAAnB,GAAoC,YAAY;AAC5C,QAAIoB,KAAK,GAAG,IAAZ,CAD4C,CAE5C;;;AACA,SAAKxC,WAAL,CAAiBoC,OAAjB,CAAyB,UAAUzB,IAAV,EAAgB8B,KAAhB,EAAuB;AAC5C,UAAIR,QAAQ,GAAGO,KAAK,CAAC1B,WAAN,CAAkBoB,gBAAlB,CAAmCvB,IAAI,CAACT,QAAxC,CAAf;;AACA,UAAI+B,QAAQ,CAACN,MAAT,GAAkB,CAAtB,EAAyB;AACrBM,QAAAA,QAAQ,CAACG,OAAT,CAAiB,UAAUC,OAAV,EAAmB;AAChCA,UAAAA,OAAO,CAACN,eAAR,CAAwBpB,IAAI,CAACV,SAA7B;AACH,SAFD;AAGH;AACJ,KAPD;AAQH,GAXD;;AAYA,SAAOG,kBAAP;AACH,CA7EuC,EAAxC;;AA8EA,SAASA,kBAAT","sourcesContent":["/**\n * SanitizeHtmlHelper for sanitize the value.\n */\nimport { detach } from './dom';\nvar removeTags = [\n    'script',\n    'style',\n    'iframe[src]',\n    'link[href*=\"javascript:\"]',\n    'object[type=\"text/x-scriptlet\"]',\n    'object[data^=\"data:text/html;base64\"]',\n    'img[src^=\"data:text/html;base64\"]',\n    '[src^=\"javascript:\"]',\n    '[dynsrc^=\"javascript:\"]',\n    '[lowsrc^=\"javascript:\"]',\n    '[type^=\"application/x-shockwave-flash\"]'\n];\nvar removeAttrs = [\n    { attribute: 'href', selector: '[href*=\"javascript:\"]' },\n    { attribute: 'background', selector: '[background^=\"javascript:\"]' },\n    { attribute: 'style', selector: '[style*=\"javascript:\"]' },\n    { attribute: 'style', selector: '[style*=\"expression(\"]' },\n    { attribute: 'href', selector: 'a[href^=\"data:text/html;base64\"]' }\n];\nvar jsEvents = ['onchange',\n    'onclick',\n    'onmouseover',\n    'onmouseout',\n    'onkeydown',\n    'onload',\n    'onerror',\n    'onblur',\n    'onfocus',\n    'onbeforeload',\n    'onbeforeunload',\n    'onkeyup',\n    'onsubmit',\n    'onafterprint',\n    'onbeforeonload',\n    'onbeforeprint',\n    'oncanplay',\n    'oncanplaythrough',\n    'oncontextmenu',\n    'ondblclick',\n    'ondrag',\n    'ondragend',\n    'ondragenter',\n    'ondragleave',\n    'ondragover',\n    'ondragstart',\n    'ondrop',\n    'ondurationchange',\n    'onemptied',\n    'onended',\n    'onformchange',\n    'onforminput',\n    'onhaschange',\n    'oninput',\n    'oninvalid',\n    'onkeypress',\n    'onloadeddata',\n    'onloadedmetadata',\n    'onloadstart',\n    'onmessage',\n    'onmousedown',\n    'onmousemove',\n    'onmouseup',\n    'onmousewheel',\n    'onoffline',\n    'onoine',\n    'ononline',\n    'onpagehide',\n    'onpageshow',\n    'onpause',\n    'onplay',\n    'onplaying',\n    'onpopstate',\n    'onprogress',\n    'onratechange',\n    'onreadystatechange',\n    'onredo',\n    'onresize',\n    'onscroll',\n    'onseeked',\n    'onseeking',\n    'onselect',\n    'onstalled',\n    'onstorage',\n    'onsuspend',\n    'ontimeupdate',\n    'onundo',\n    'onunload',\n    'onvolumechange',\n    'onwaiting',\n    'onmouseenter',\n    'onmouseleave',\n    'onstart',\n    'onpropertychange',\n    'oncopy',\n    'ontoggle',\n    'onpointerout',\n    'onpointermove',\n    'onpointerleave',\n    'onpointerenter',\n    'onpointerrawupdate',\n    'onpointerover',\n    'onbeforecopy',\n    'onbeforecut',\n    'onbeforeinput'\n];\nvar SanitizeHtmlHelper = /** @class */ (function () {\n    function SanitizeHtmlHelper() {\n    }\n    SanitizeHtmlHelper.beforeSanitize = function () {\n        return {\n            selectors: {\n                tags: removeTags,\n                attributes: removeAttrs\n            }\n        };\n    };\n    SanitizeHtmlHelper.sanitize = function (value) {\n        var item = this.beforeSanitize();\n        var output = this.serializeValue(item, value);\n        return output;\n    };\n    SanitizeHtmlHelper.serializeValue = function (item, value) {\n        this.removeAttrs = item.selectors.attributes;\n        this.removeTags = item.selectors.tags;\n        this.wrapElement = document.createElement('div');\n        this.wrapElement.innerHTML = value;\n        this.removeXssTags();\n        this.removeJsEvents();\n        this.removeXssAttrs();\n        var tempEleValue = this.wrapElement.innerHTML;\n        this.removeElement();\n        return tempEleValue.replace('&amp;', '&');\n    };\n    SanitizeHtmlHelper.removeElement = function () {\n        // Removes an element's attibute to avoid html tag validation\n        var nodes = this.wrapElement.children;\n        for (var j = 0; j < nodes.length; j++) {\n            var attribute = nodes[parseInt(j.toString(), 10)].attributes;\n            for (var i = 0; i < attribute.length; i++) {\n                this.wrapElement.children[parseInt(j.toString(), 10)].removeAttribute(attribute[parseInt(i.toString(), 10)].localName);\n            }\n        }\n    };\n    SanitizeHtmlHelper.removeXssTags = function () {\n        var elements = this.wrapElement.querySelectorAll(this.removeTags.join(','));\n        if (elements.length > 0) {\n            elements.forEach(function (element) {\n                detach(element);\n            });\n        }\n        else {\n            return;\n        }\n    };\n    SanitizeHtmlHelper.removeJsEvents = function () {\n        var elements = this.wrapElement.querySelectorAll('[' + jsEvents.join('],[') + ']');\n        if (elements.length > 0) {\n            elements.forEach(function (element) {\n                jsEvents.forEach(function (attr) {\n                    if (element.hasAttribute(attr)) {\n                        element.removeAttribute(attr);\n                    }\n                });\n            });\n        }\n        else {\n            return;\n        }\n    };\n    SanitizeHtmlHelper.removeXssAttrs = function () {\n        var _this = this;\n        // eslint-disable-next-line\n        this.removeAttrs.forEach(function (item, index) {\n            var elements = _this.wrapElement.querySelectorAll(item.selector);\n            if (elements.length > 0) {\n                elements.forEach(function (element) {\n                    element.removeAttribute(item.attribute);\n                });\n            }\n        });\n    };\n    return SanitizeHtmlHelper;\n}());\nexport { SanitizeHtmlHelper };\n"]},"metadata":{},"sourceType":"module"}