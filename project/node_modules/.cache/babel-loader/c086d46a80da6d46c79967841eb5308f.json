{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable jsdoc/require-returns */\n\n/* eslint-disable @typescript-eslint/ban-types */\n\n/* eslint-disable @typescript-eslint/no-inferrable-types */\n\n/* eslint-disable valid-jsdoc */\n\n/* eslint-disable jsdoc/require-param */\n\n\nimport { sum, getPoint, templateAnimate } from '../../common/utils/helper';\nimport { PathOption } from '@syncfusion/ej2-svg-base';\nimport { ColumnSeries } from './column-series';\n/**\r\n * `HistogramSeries` Module used to render the histogram series.\r\n */\n\nvar HistogramSeries =\n/** @class */\nfunction (_super) {\n  __extends(HistogramSeries, _super);\n\n  function HistogramSeries() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\r\n   * Render Histogram series.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  HistogramSeries.prototype.render = function (series) {\n    _super.prototype.render.call(this, series);\n\n    if (series.showNormalDistribution) {\n      this.renderNormalDistribution(series);\n    }\n  };\n  /**\r\n   * To calculate bin interval for Histogram series.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  HistogramSeries.prototype.calculateBinInterval = function (yValues, series) {\n    var mean = sum(yValues) / yValues.length;\n    var sumValue = 0;\n\n    for (var _i = 0, yValues_1 = yValues; _i < yValues_1.length; _i++) {\n      var value = yValues_1[_i];\n      sumValue += (value - mean) * (value - mean);\n    }\n\n    series.histogramValues.mean = mean;\n    series.histogramValues.sDValue = Math.round(Math.sqrt(Math.abs(sumValue / yValues.length - 1)));\n    series.histogramValues.binWidth = series.binInterval || Math.round(3.5 * series.histogramValues.sDValue / Math.pow(yValues.length, 1 / 3)) || 1;\n  };\n  /**\r\n   * Add data points for Histogram series.\r\n   *\r\n   * @returns {object[]} data\r\n   * @private\r\n   */\n\n\n  HistogramSeries.prototype.processInternalData = function (data, series) {\n    var _a;\n\n    var updatedData = [];\n    var yValues = [];\n    var keys = Object.keys(data);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      yValues.push(data[key][series.yName]);\n    }\n\n    series.histogramValues = {\n      yValues: yValues\n    };\n    var min = Math.min.apply(Math, series.histogramValues.yValues);\n    var max = Math.max.apply(Math, series.histogramValues.yValues);\n    this.calculateBinInterval(series.histogramValues.yValues, series);\n    var binWidth = series.histogramValues.binWidth;\n    var yCount;\n\n    for (var j = 0; j < data.length;) {\n      yCount = yValues.filter(function (y) {\n        return y >= min && y < min + binWidth;\n      }).length;\n\n      if (min + binWidth === max) {\n        yCount += yValues.filter(function (y) {\n          return y >= max;\n        }).length;\n      }\n\n      updatedData.push((_a = {\n        'x': min + binWidth / 2\n      }, _a[series.yName] = yCount, _a));\n      min = min + binWidth;\n      j += yCount;\n    }\n\n    return updatedData;\n  };\n  /**\r\n   * Calculates bin values.\r\n   *\r\n   * @returns null\r\n   * @private\r\n   */\n\n\n  HistogramSeries.prototype.calculateBinValues = function (series) {\n    var yValuesCount = series.histogramValues.yValues.length;\n    var binWidth = series.histogramValues.binWidth;\n    var mean = series.histogramValues.mean;\n    var sDValue = series.histogramValues.sDValue;\n    var pointsCount = 500;\n    var min = series.xAxis.minimum ? parseInt(series.xAxis.minimum.toString()) : series.xMin;\n    var max = series.xAxis.maximum ? parseInt(series.xAxis.maximum.toString()) : series.xMax;\n    var points = series.points.length;\n    var xValue;\n    var yValue;\n    var del = (max - min) / (pointsCount - 1);\n\n    if (points) {\n      for (var i = 0; i < pointsCount; i++) {\n        xValue = min + i * del;\n        yValue = Math.exp(-(xValue - mean) * (xValue - mean) / (2 * sDValue * sDValue)) / (sDValue * Math.sqrt(2 * Math.PI)) * binWidth * yValuesCount;\n        series.yMin = series.yMin > yValue ? yValue : series.yMin;\n        series.yMax = series.yMax < yValue ? yValue : series.yMax;\n      }\n    }\n  };\n  /**\r\n   * Render Normal Distribution for Histogram series.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  HistogramSeries.prototype.renderNormalDistribution = function (series) {\n    var min = series.xAxis.actualRange.min;\n    var max = series.xAxis.actualRange.max;\n    var xValue;\n    var pointLocation;\n    var yValue;\n    var direction = '';\n    var startPoint = 'M';\n    var yValuesCount = series.histogramValues.yValues.length;\n    var binWidth = series.histogramValues.binWidth;\n    var mean = series.histogramValues.mean;\n    var sDValue = series.histogramValues.sDValue;\n    var pointsCount = 500;\n    var del = (max - min) / (pointsCount - 1);\n    var points = series.points.length;\n\n    if (points) {\n      for (var i = 0; i < pointsCount; i++) {\n        xValue = min + i * del;\n        yValue = Math.exp(-(xValue - mean) * (xValue - mean) / (2 * sDValue * sDValue)) / (sDValue * Math.sqrt(2 * Math.PI));\n        pointLocation = getPoint(xValue, yValue * binWidth * yValuesCount, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n        direction += startPoint + ' ' + pointLocation.x + ' ' + pointLocation.y + ' ';\n        startPoint = 'L';\n      }\n    }\n\n    var distributionLine = series.chart.renderer.drawPath(new PathOption(series.chart.element.id + '_Series_' + series.index + '_NDLine', 'transparent', 2, series.chart.themeStyle.errorBar, series.opacity, series.dashArray, direction), new Int32Array([series.clipRect.x, series.clipRect.y]));\n    distributionLine.style.visibility = !series.chart.enableCanvas ? series.animation.enable && series.chart.animateSeries ? 'hidden' : 'visible' : null;\n\n    if (!series.chart.enableCanvas) {\n      series.seriesElement.appendChild(distributionLine);\n    }\n  };\n  /**\r\n   * Animates the series.\r\n   *\r\n   * @param  {Series} series - Defines the series to animate.\r\n   * @returns {void}\r\n   */\n\n\n  HistogramSeries.prototype.doAnimation = function (series) {\n    _super.prototype.doAnimation.call(this, series);\n\n    if (series.showNormalDistribution) {\n      templateAnimate(series.seriesElement.lastElementChild, series.animation.duration, 500, 'FadeIn');\n    }\n  };\n  /**\r\n   * Get module name.\r\n   */\n\n\n  HistogramSeries.prototype.getModuleName = function () {\n    return 'HistogramSeries';\n    /**\r\n     * return the module name\r\n     */\n  };\n  /**\r\n   * To destroy the histogram series.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  HistogramSeries.prototype.destroy = function () {\n    /**\r\n     * Destroy method performed here\r\n     */\n  };\n\n  return HistogramSeries;\n}(ColumnSeries);\n\nexport { HistogramSeries };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-charts/src/chart/series/histogram-series.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","sum","getPoint","templateAnimate","PathOption","ColumnSeries","HistogramSeries","_super","apply","arguments","render","series","call","showNormalDistribution","renderNormalDistribution","calculateBinInterval","yValues","mean","length","sumValue","_i","yValues_1","value","histogramValues","sDValue","Math","round","sqrt","abs","binWidth","binInterval","pow","processInternalData","data","_a","updatedData","keys","i","key","push","yName","min","max","yCount","j","filter","y","calculateBinValues","yValuesCount","pointsCount","xAxis","minimum","parseInt","toString","xMin","maximum","xMax","points","xValue","yValue","del","exp","PI","yMin","yMax","actualRange","pointLocation","direction","startPoint","yAxis","chart","requireInvertedAxis","x","distributionLine","renderer","drawPath","element","id","index","themeStyle","errorBar","opacity","dashArray","Int32Array","clipRect","style","visibility","enableCanvas","animation","enable","animateSeries","seriesElement","appendChild","doAnimation","lastElementChild","duration","getModuleName","destroy"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* eslint-disable jsdoc/require-returns */\r\n/* eslint-disable @typescript-eslint/ban-types */\r\n/* eslint-disable @typescript-eslint/no-inferrable-types */\r\n/* eslint-disable valid-jsdoc */\r\n/* eslint-disable jsdoc/require-param */\r\nimport { sum, getPoint, templateAnimate } from '../../common/utils/helper';\r\nimport { PathOption } from '@syncfusion/ej2-svg-base';\r\nimport { ColumnSeries } from './column-series';\r\n/**\r\n * `HistogramSeries` Module used to render the histogram series.\r\n */\r\nvar HistogramSeries = /** @class */ (function (_super) {\r\n    __extends(HistogramSeries, _super);\r\n    function HistogramSeries() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Render Histogram series.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    HistogramSeries.prototype.render = function (series) {\r\n        _super.prototype.render.call(this, series);\r\n        if (series.showNormalDistribution) {\r\n            this.renderNormalDistribution(series);\r\n        }\r\n    };\r\n    /**\r\n     * To calculate bin interval for Histogram series.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    HistogramSeries.prototype.calculateBinInterval = function (yValues, series) {\r\n        var mean = sum(yValues) / yValues.length;\r\n        var sumValue = 0;\r\n        for (var _i = 0, yValues_1 = yValues; _i < yValues_1.length; _i++) {\r\n            var value = yValues_1[_i];\r\n            sumValue += (value - mean) * (value - mean);\r\n        }\r\n        series.histogramValues.mean = mean;\r\n        series.histogramValues.sDValue = Math.round(Math.sqrt(Math.abs(sumValue / yValues.length - 1)));\r\n        series.histogramValues.binWidth = series.binInterval ||\r\n            Math.round((3.5 * series.histogramValues.sDValue) / Math.pow(yValues.length, 1 / 3)) || 1;\r\n    };\r\n    /**\r\n     * Add data points for Histogram series.\r\n     *\r\n     * @returns {object[]} data\r\n     * @private\r\n     */\r\n    HistogramSeries.prototype.processInternalData = function (data, series) {\r\n        var _a;\r\n        var updatedData = [];\r\n        var yValues = [];\r\n        var keys = Object.keys(data);\r\n        for (var i = 0; i < keys.length; i++) {\r\n            var key = keys[i];\r\n            yValues.push(data[key][series.yName]);\r\n        }\r\n        series.histogramValues = {\r\n            yValues: yValues\r\n        };\r\n        var min = Math.min.apply(Math, series.histogramValues.yValues);\r\n        var max = Math.max.apply(Math, series.histogramValues.yValues);\r\n        this.calculateBinInterval(series.histogramValues.yValues, series);\r\n        var binWidth = series.histogramValues.binWidth;\r\n        var yCount;\r\n        for (var j = 0; j < data.length;) {\r\n            yCount = yValues.filter(function (y) { return y >= min && y < (min + (binWidth)); }).length;\r\n            if ((min + binWidth) === max) {\r\n                yCount += yValues.filter(function (y) { return y >= max; }).length;\r\n            }\r\n            updatedData.push((_a = {\r\n                    'x': min + binWidth / 2\r\n                },\r\n                _a[series.yName] = yCount,\r\n                _a));\r\n            min = min + binWidth;\r\n            j += yCount;\r\n        }\r\n        return updatedData;\r\n    };\r\n    /**\r\n     * Calculates bin values.\r\n     *\r\n     * @returns null\r\n     * @private\r\n     */\r\n    HistogramSeries.prototype.calculateBinValues = function (series) {\r\n        var yValuesCount = series.histogramValues.yValues.length;\r\n        var binWidth = series.histogramValues.binWidth;\r\n        var mean = series.histogramValues.mean;\r\n        var sDValue = series.histogramValues.sDValue;\r\n        var pointsCount = 500;\r\n        var min = series.xAxis.minimum ? parseInt(series.xAxis.minimum.toString()) : series.xMin;\r\n        var max = series.xAxis.maximum ? parseInt(series.xAxis.maximum.toString()) : series.xMax;\r\n        var points = series.points.length;\r\n        var xValue;\r\n        var yValue;\r\n        var del = (max - min) / (pointsCount - 1);\r\n        if (points) {\r\n            for (var i = 0; i < pointsCount; i++) {\r\n                xValue = min + i * del;\r\n                yValue = (Math.exp(-(xValue - mean) * (xValue - mean) / (2 * sDValue * sDValue)) /\r\n                    (sDValue * Math.sqrt(2 * Math.PI))) * binWidth * yValuesCount;\r\n                series.yMin = series.yMin > yValue ? yValue : series.yMin;\r\n                series.yMax = series.yMax < yValue ? yValue : series.yMax;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Render Normal Distribution for Histogram series.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    HistogramSeries.prototype.renderNormalDistribution = function (series) {\r\n        var min = series.xAxis.actualRange.min;\r\n        var max = series.xAxis.actualRange.max;\r\n        var xValue;\r\n        var pointLocation;\r\n        var yValue;\r\n        var direction = '';\r\n        var startPoint = 'M';\r\n        var yValuesCount = series.histogramValues.yValues.length;\r\n        var binWidth = series.histogramValues.binWidth;\r\n        var mean = series.histogramValues.mean;\r\n        var sDValue = series.histogramValues.sDValue;\r\n        var pointsCount = 500;\r\n        var del = (max - min) / (pointsCount - 1);\r\n        var points = series.points.length;\r\n        if (points) {\r\n            for (var i = 0; i < pointsCount; i++) {\r\n                xValue = min + i * del;\r\n                yValue = Math.exp(-(xValue - mean) * (xValue - mean) / (2 * sDValue * sDValue)) /\r\n                    (sDValue * Math.sqrt(2 * Math.PI));\r\n                pointLocation = getPoint(xValue, yValue * binWidth * yValuesCount, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\r\n                direction += startPoint + ' ' + (pointLocation.x) + ' ' + (pointLocation.y) + ' ';\r\n                startPoint = 'L';\r\n            }\r\n        }\r\n        var distributionLine = series.chart.renderer.drawPath(new PathOption(series.chart.element.id + '_Series_' + series.index + '_NDLine', 'transparent', 2, series.chart.themeStyle.errorBar, series.opacity, series.dashArray, direction), new Int32Array([series.clipRect.x, series.clipRect.y]));\r\n        distributionLine.style.visibility = (!series.chart.enableCanvas) ? ((series.animation.enable &&\r\n            series.chart.animateSeries) ? 'hidden' : 'visible') : null;\r\n        if (!series.chart.enableCanvas) {\r\n            series.seriesElement.appendChild(distributionLine);\r\n        }\r\n    };\r\n    /**\r\n     * Animates the series.\r\n     *\r\n     * @param  {Series} series - Defines the series to animate.\r\n     * @returns {void}\r\n     */\r\n    HistogramSeries.prototype.doAnimation = function (series) {\r\n        _super.prototype.doAnimation.call(this, series);\r\n        if (series.showNormalDistribution) {\r\n            templateAnimate(series.seriesElement.lastElementChild, series.animation.duration, 500, 'FadeIn');\r\n        }\r\n    };\r\n    /**\r\n     * Get module name.\r\n     */\r\n    HistogramSeries.prototype.getModuleName = function () {\r\n        return 'HistogramSeries';\r\n        /**\r\n         * return the module name\r\n         */\r\n    };\r\n    /**\r\n     * To destroy the histogram series.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    HistogramSeries.prototype.destroy = function () {\r\n        /**\r\n         * Destroy method performed here\r\n         */\r\n    };\r\n    return HistogramSeries;\r\n}(ColumnSeries));\r\nexport { HistogramSeries };\r\n"]},"metadata":{},"sourceType":"module"}