{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { FreezeContentRender, FreezeRender } from './freeze-renderer';\nimport { ColumnFreezeContentRenderer } from './column-freeze-renderer';\nimport { VirtualContentRenderer, VirtualHeaderRenderer } from './virtual-content-renderer';\nimport { RowRenderer } from '../renderer/row-renderer';\nimport { FreezeRowModelGenerator } from '../services/freeze-row-model-generator';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { RenderType } from '../base/enum';\nimport { InterSectionObserver } from '../services/intersection-observer';\nimport * as events from '../base/constant';\nimport { splitFrozenRowObjectCells } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\r\n * VirtualFreezeRenderer is used to render the virtual table within the frozen and movable content table\r\n *\r\n * @hidden\r\n */\n\nvar VirtualFreezeRenderer =\n/** @class */\nfunction (_super) {\n  __extends(VirtualFreezeRenderer, _super);\n\n  function VirtualFreezeRenderer(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n    /** @hidden */\n\n\n    _this.frzRows = [];\n    /** @hidden */\n\n    _this.mvblRows = [];\n    /** @hidden */\n\n    _this.frRows = [];\n    _this.serviceLoc = locator;\n\n    _this.eventListener('on');\n\n    _this.rowModelGenerator = new RowModelGenerator(_this.parent);\n    return _this;\n  }\n\n  VirtualFreezeRenderer.prototype.eventListener = function (action) {\n    this.parent[action](events.getVirtualData, this.getVirtualData, this);\n    this.parent[action](events.setFreezeSelection, this.setFreezeSelection, this);\n    this.parent[action](events.refreshVirtualFrozenRows, this.refreshVirtualFrozenRows, this);\n    this.parent.addEventListener(events.actionComplete, this.actionComplete.bind(this));\n  };\n\n  VirtualFreezeRenderer.prototype.actionComplete = function (args) {\n    if (args.requestType === 'delete' && this.parent.frozenRows) {\n      for (var i = 0; i < this.parent.frozenRows; i++) {\n        setCache(this, i);\n      }\n    }\n  };\n\n  VirtualFreezeRenderer.prototype.refreshVirtualFrozenRows = function (args) {\n    var _this = this;\n\n    var gObj = this.parent;\n\n    if (args.requestType === 'delete' && gObj.frozenRows) {\n      args.isFrozenRowsRender = true;\n      var query = gObj.renderModule.data.generateQuery(true).clone();\n      query.page(1, gObj.pageSettings.pageSize);\n      gObj.renderModule.data.getData({}, query).then(function (e) {\n        renderFrozenRows(args, e.result, gObj.getSelectedRowIndexes(), gObj, _this.rowModelGenerator, _this.serviceLoc, _this.virtualRenderer, _this);\n      });\n    }\n  };\n\n  VirtualFreezeRenderer.prototype.getVirtualData = function (data) {\n    this.virtualRenderer.getVirtualData(data);\n  };\n\n  VirtualFreezeRenderer.prototype.setFreezeSelection = function (args) {\n    setFreezeSelection(args, this.virtualRenderer);\n  };\n  /**\r\n   * @returns {void}\r\n   * @hidden\r\n   */\n\n\n  VirtualFreezeRenderer.prototype.renderTable = function () {\n    this.freezeRowGenerator = new FreezeRowModelGenerator(this.parent);\n    this.virtualRenderer = new VirtualContentRenderer(this.parent, this.serviceLoc);\n    this.virtualRenderer.header = this.serviceLoc.getService('rendererFactory').getRenderer(RenderType.Header).virtualHdrRenderer;\n\n    _super.prototype.renderTable.call(this);\n\n    this.virtualRenderer.setPanel(this.parent.getContent());\n    this.scrollbar = this.parent.getContent().querySelector('.e-movablescrollbar');\n    var movableCont = this.getMovableContent();\n    var minHeight = this.parent.height;\n    this.virtualRenderer.virtualEle.content = this.virtualRenderer.content = this.getPanel().querySelector('.' + literals.content);\n    this.virtualRenderer.virtualEle.content.style.overflowX = 'hidden';\n    this.virtualRenderer.virtualEle.renderFrozenWrapper(minHeight);\n    this.virtualRenderer.virtualEle.renderFrozenPlaceHolder();\n\n    if (this.parent.enableColumnVirtualization) {\n      this.virtualRenderer.virtualEle.movableContent = this.virtualRenderer.movableContent = this.getPanel().querySelector('.' + literals.movableContent);\n      this.virtualRenderer.virtualEle.renderMovableWrapper(minHeight);\n      this.virtualRenderer.virtualEle.renderMovablePlaceHolder();\n      var tbl = movableCont.querySelector('table');\n      this.virtualRenderer.virtualEle.movableTable = tbl;\n      this.virtualRenderer.virtualEle.movableWrapper.appendChild(tbl);\n      movableCont.appendChild(this.virtualRenderer.virtualEle.movableWrapper);\n      movableCont.appendChild(this.virtualRenderer.virtualEle.movablePlaceholder);\n    }\n\n    this.virtualRenderer.virtualEle.wrapper.appendChild(this.getFrozenContent());\n    this.virtualRenderer.virtualEle.wrapper.appendChild(movableCont);\n    this.virtualRenderer.virtualEle.table = this.getTable();\n    setDebounce(this.parent, this.virtualRenderer, this.scrollbar, this.getMovableContent());\n  };\n  /**\r\n   * @param {HTMLElement} target - specifies the target\r\n   * @param {DocumentFragment} newChild - specifies the newChild\r\n   * @param {NotifyArgs} e - specifies the notifyargs\r\n   * @returns {void}\r\n   * @hidden\r\n   */\n\n\n  VirtualFreezeRenderer.prototype.appendContent = function (target, newChild, e) {\n    appendContent(this.virtualRenderer, this.widthService, target, newChild, e);\n  };\n  /**\r\n   * @param {Object[]} data - specifies the data\r\n   * @param {NotifyArgs} notifyArgs - specifies the notifyargs\r\n   * @returns {Row<Column>[]} returns the row\r\n   * @hidden\r\n   */\n\n\n  VirtualFreezeRenderer.prototype.generateRows = function (data, notifyArgs) {\n    if (!this.firstPageRecords) {\n      this.firstPageRecords = data;\n    }\n\n    return generateRows(this.virtualRenderer, data, notifyArgs, this.freezeRowGenerator, this.parent);\n  };\n  /**\r\n   * @param {number} index - specifies the index\r\n   * @returns {Element} returns the element\r\n   * @hidden\r\n   */\n\n\n  VirtualFreezeRenderer.prototype.getRowByIndex = function (index) {\n    return this.virtualRenderer.getRowByIndex(index);\n  };\n  /**\r\n   * @param {number} index - specifies the index\r\n   * @returns {Element} returns the element\r\n   * @hidden\r\n   */\n\n\n  VirtualFreezeRenderer.prototype.getMovableRowByIndex = function (index) {\n    return this.virtualRenderer.getMovableVirtualRowByIndex(index);\n  };\n\n  VirtualFreezeRenderer.prototype.collectRows = function (tableName) {\n    return collectRows(tableName, this.virtualRenderer, this.parent);\n  };\n  /**\r\n   * @returns {HTMLCollection} returns the Htmlcollection\r\n   * @hidden\r\n   */\n\n\n  VirtualFreezeRenderer.prototype.getMovableRows = function () {\n    return this.collectRows('movable');\n  };\n  /**\r\n   * @returns {HTMLCollectionOf<HTMLTableRowElement>} returns the html collection\r\n   * @hidden\r\n   */\n\n\n  VirtualFreezeRenderer.prototype.getRows = function () {\n    return this.collectRows('frozen-left');\n  };\n  /**\r\n   * @returns {Element} returns the element\r\n   * @hidden\r\n   */\n\n\n  VirtualFreezeRenderer.prototype.getColGroup = function () {\n    var mCol = this.parent.getMovableVirtualContent();\n    return this.isXaxis() ? mCol.querySelector(literals.colGroup) : this.colgroup;\n  };\n  /**\r\n   * @param {NotifyArgs} args - specifies the args\r\n   * @returns {Row<Column>[]} returns the row\r\n   * @hidden\r\n   */\n\n\n  VirtualFreezeRenderer.prototype.getReorderedFrozenRows = function (args) {\n    return getReorderedFrozenRows(args, this.virtualRenderer, this.parent, this.freezeRowGenerator, this.firstPageRecords);\n  };\n\n  VirtualFreezeRenderer.prototype.isXaxis = function () {\n    return isXaxis(this.virtualRenderer);\n  };\n\n  VirtualFreezeRenderer.prototype.getHeaderCells = function () {\n    return getHeaderCells(this.virtualRenderer, this.parent);\n  };\n\n  VirtualFreezeRenderer.prototype.getVirtualFreezeHeader = function () {\n    return getVirtualFreezeHeader(this.virtualRenderer, this.parent);\n  };\n\n  VirtualFreezeRenderer.prototype.ensureFrozenCols = function (columns) {\n    return ensureFrozenCols(columns, this.parent);\n  };\n  /**\r\n   * @param {number} index - specifies the index\r\n   * @returns {object} returns the object\r\n   * @hidden\r\n   */\n\n\n  VirtualFreezeRenderer.prototype.getRowObjectByIndex = function (index) {\n    return this.virtualRenderer.getRowObjectByIndex(index);\n  };\n  /**\r\n   * Set the header colgroup element\r\n   *\r\n   * @param {Element} colGroup - specifies the colgroup\r\n   * @returns {Element} returns the element\r\n   */\n\n\n  VirtualFreezeRenderer.prototype.setColGroup = function (colGroup) {\n    return setColGroup(colGroup, this.virtualRenderer, this);\n  };\n\n  return VirtualFreezeRenderer;\n}(FreezeContentRender);\n\nexport { VirtualFreezeRenderer };\n/**\r\n * VirtualFreezeHdrRenderer is used to render the virtual table within the frozen and movable header table\r\n *\r\n * @hidden\r\n */\n\nvar VirtualFreezeHdrRenderer =\n/** @class */\nfunction (_super) {\n  __extends(VirtualFreezeHdrRenderer, _super);\n\n  function VirtualFreezeHdrRenderer(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n\n    _this.serviceLoc = locator;\n    return _this;\n  }\n  /**\r\n   * @returns {void}\r\n   * @hidden\r\n   */\n\n\n  VirtualFreezeHdrRenderer.prototype.renderTable = function () {\n    this.virtualHdrRenderer = new VirtualHeaderRenderer(this.parent, this.serviceLoc);\n    this.virtualHdrRenderer.gen.refreshColOffsets();\n    this.parent.setColumnIndexesInView(this.virtualHdrRenderer.gen.getColumnIndexes(this.getPanel().querySelector('.' + literals.headerContent)));\n    this.virtualHdrRenderer.virtualEle.content = this.getPanel().querySelector('.' + literals.headerContent);\n    this.virtualHdrRenderer.virtualEle.renderFrozenWrapper();\n    this.virtualHdrRenderer.virtualEle.renderFrozenPlaceHolder();\n\n    if (this.parent.enableColumnVirtualization) {\n      this.virtualHdrRenderer.virtualEle.movableContent = this.getPanel().querySelector('.' + literals.movableHeader);\n      this.virtualHdrRenderer.virtualEle.renderMovableWrapper();\n      this.virtualHdrRenderer.virtualEle.renderMovablePlaceHolder();\n    }\n\n    _super.prototype.renderTable.call(this);\n\n    this.virtualHdrRenderer.setPanel(this.parent.getHeaderContent());\n  };\n\n  VirtualFreezeHdrRenderer.prototype.rfshMovable = function () {\n    this.getFrozenHeader().appendChild(this.getTable());\n    this.virtualHdrRenderer.virtualEle.wrapper.appendChild(this.getFrozenHeader());\n\n    if (this.parent.enableColumnVirtualization) {\n      this.virtualHdrRenderer.virtualEle.movableWrapper.appendChild(this.createHeader(undefined, 'movable'));\n    } else {\n      this.getMovableHeader().appendChild(this.createTable());\n    }\n\n    this.virtualHdrRenderer.virtualEle.wrapper.appendChild(this.getMovableHeader());\n  };\n\n  return VirtualFreezeHdrRenderer;\n}(FreezeRender);\n\nexport { VirtualFreezeHdrRenderer };\n/**\r\n * @param {NotifyArgs} args - specifies the args\r\n * @param {Object[]} data - specifies the data\r\n * @param {number[]}selectedIdx - specifies the selected index\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @param {IModelGenerator} rowModelGenerator - specifies the rowModeGenerator\r\n * @param {ServiceLocator} locator - specifies the locator\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @param {VirtualFreezeRenderer} instance - specifies the instance\r\n * @returns {void}\r\n * @hidden\r\n */\n\nexport function renderFrozenRows(args, data, selectedIdx, parent, rowModelGenerator, locator, virtualRenderer, instance) {\n  parent.clearSelection();\n  args.startIndex = 0;\n  var rowRenderer = new RowRenderer(locator, null, parent);\n  var rows = rowModelGenerator.generateRows(data, args);\n\n  if (args.renderMovableContent) {\n    virtualRenderer.vgenerator.movableCache[1] = rows;\n    rows = parent.getMovableRowsObject();\n  } else if (!args.renderFrozenRightContent && !args.renderMovableContent) {\n    virtualRenderer.vgenerator.cache[1] = rows;\n    rows = parent.getRowsObject();\n  } else if (args.renderFrozenRightContent) {\n    virtualRenderer.vgenerator.frozenRightCache[1] = rows;\n    rows = parent.getFrozenRightRowsObject();\n  }\n\n  var hdr = !args.renderMovableContent && !args.renderFrozenRightContent ? parent.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody) : args.renderMovableContent ? parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody) : parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector(literals.tbody);\n  hdr.innerHTML = '';\n\n  for (var i = 0; i < parent.frozenRows; i++) {\n    hdr.appendChild(rowRenderer.render(rows[i], parent.getColumns()));\n\n    if (selectedIdx.indexOf(i) > -1) {\n      rows[i].isSelected = true;\n\n      for (var k = 0; k < rows[i].cells.length; k++) {\n        rows[i].cells[k].isSelected = true;\n      }\n    }\n  }\n\n  if (args.renderMovableContent) {\n    instance.mvblRows = virtualRenderer.vgenerator.movableCache[1];\n  } else if (!args.renderMovableContent && !args.renderFrozenRightContent) {\n    instance.frzRows = virtualRenderer.vgenerator.cache[1];\n  } else if (args.renderFrozenRightContent) {\n    instance.frRows = virtualRenderer.vgenerator.frozenRightCache[1];\n  }\n\n  args.renderMovableContent = !args.renderMovableContent && !args.renderFrozenRightContent;\n  args.renderFrozenRightContent = parent.getFrozenMode() === literals.leftRight && !args.renderMovableContent && !args.renderFrozenRightContent;\n\n  if (args.renderMovableContent || args.renderFrozenRightContent) {\n    renderFrozenRows(args, data, selectedIdx, parent, rowModelGenerator, locator, virtualRenderer, instance);\n\n    if (!args.renderMovableContent && !args.renderFrozenRightContent) {\n      args.isFrozenRowsRender = false;\n    }\n  }\n}\n/**\r\n * @param {Row<Column>[]} data - specifies the data\r\n * @param {freezeTable} tableName -specifies the table\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @returns {Row<Column>[]} returns the row\r\n * @hidden\r\n */\n\nexport function splitCells(data, tableName, parent) {\n  var rows = [];\n\n  for (var i = 0; i < data.length; i++) {\n    rows.push(extend({}, data[i]));\n    rows[i].cells = splitFrozenRowObjectCells(parent, rows[i].cells, tableName);\n  }\n\n  return rows;\n}\n/**\r\n * @param {freezeTable} tableName - specifies the freeze tabel\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @returns {Row<Column>[]} returns the row\r\n * @hidden\r\n */\n\nexport function collectRows(tableName, virtualRenderer, parent) {\n  var rows = [];\n  var cache;\n\n  if (tableName === literals.frozenLeft) {\n    cache = virtualRenderer.vgenerator.cache;\n  } else if (tableName === 'movable') {\n    cache = virtualRenderer.vgenerator.movableCache;\n  } else if (tableName === literals.frozenRight) {\n    cache = parent.getFrozenMode() === 'Right' ? virtualRenderer.vgenerator.cache : virtualRenderer.vgenerator.frozenRightCache;\n  }\n\n  var keys = Object.keys(cache);\n\n  for (var i = 0; i < keys.length; i++) {\n    rows = rows.concat(splitCells(cache[keys[i]], tableName, parent));\n  }\n\n  return rows;\n}\n/**\r\n * @param {object} args - specifies the args\r\n * @param {string} args.uid - specifirs the uid\r\n * @param {boolean} args.set - specifies the set\r\n * @param {boolean} args.clearAll - specifies the boolean to clearall\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @returns {void}\r\n * @hidden\r\n */\n\nexport function setFreezeSelection(args, virtualRenderer) {\n  var leftKeys = Object.keys(virtualRenderer.vgenerator.cache);\n  var movableKeys = Object.keys(virtualRenderer.vgenerator.movableCache);\n  var rightKeys = Object.keys(virtualRenderer.vgenerator.frozenRightCache);\n\n  for (var i = 0; i < leftKeys.length; i++) {\n    selectFreezeRows(args, virtualRenderer.vgenerator.cache[leftKeys[i]]);\n  }\n\n  for (var i = 0; i < movableKeys.length; i++) {\n    selectFreezeRows(args, virtualRenderer.vgenerator.movableCache[movableKeys[i]]);\n  }\n\n  for (var i = 0; i < rightKeys.length; i++) {\n    selectFreezeRows(args, virtualRenderer.vgenerator.frozenRightCache[rightKeys[i]]);\n  }\n}\n/**\r\n * @param {Object} args - specifies the args\r\n * @param {string} args.uid - specifirs the uid\r\n * @param {boolean} args.set - specifies the set\r\n * @param {boolean} args.clearAll - specifies the boolean to clearall\r\n * @param {Row<Column>[]} cache - specifies the cache\r\n * @returns {void}\r\n * @hidden\r\n */\n\nexport function selectFreezeRows(args, cache) {\n  var rows = cache.filter(function (row) {\n    return args.clearAll || args.uid === row.uid;\n  });\n\n  for (var j = 0; j < rows.length; j++) {\n    rows[j].isSelected = args.set;\n    var cells = rows[j].cells;\n\n    for (var k = 0; k < cells.length; k++) {\n      cells[k].isSelected = args.set;\n    }\n  }\n}\n/**\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @param {ColumnWidthService} widthService - specifies the width service\r\n * @param {HTMLElement} target - specifies the target\r\n * @param {DocumentFragment} newChild - specifies the newchild\r\n * @param {NotifyArgs} e - specifies the notifyargs\r\n * @returns {void}\r\n * @hidden\r\n */\n\nexport function appendContent(virtualRenderer, widthService, target, newChild, e) {\n  virtualRenderer.appendContent(target, newChild, e);\n  widthService.refreshFrozenScrollbar();\n}\n/**\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @param {object[]} data - specifies the data\r\n * @param {NotifyArgs} notifyArgs - specifies the notifyargs\r\n * @param {FreezeRowModelGenerator} freezeRowGenerator - specifies the freeze row generator\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @returns {Row<Column>[]} returns the row\r\n * @hidden\r\n */\n\nexport function generateRows(virtualRenderer, data, notifyArgs, freezeRowGenerator, parent) {\n  var virtualRows = virtualRenderer.vgenerator.generateRows(data, notifyArgs);\n  var arr = [];\n  arr = virtualRows.map(function (row) {\n    return extend({}, row);\n  });\n  var rows = freezeRowGenerator.generateRows(data, notifyArgs, arr);\n\n  if (parent.frozenRows && notifyArgs.requestType === 'delete' && parent.pageSettings.currentPage === 1) {\n    rows = rows.slice(parent.frozenRows);\n  }\n\n  return rows;\n}\n/**\r\n * @param {NotifyArgs} args -specifies the args\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @param {FreezeRowModelGenerator} freezeRowGenerator - specifies the freezeRowGenerator\r\n * @param {Object[]} firstPageRecords - specifies the first page records\r\n * @returns {Row<Column>[]} returns the row\r\n * @hidden\r\n */\n\nexport function getReorderedFrozenRows(args, virtualRenderer, parent, freezeRowGenerator, firstPageRecords) {\n  var bIndex = args.virtualInfo.blockIndexes;\n  var colIndex = args.virtualInfo.columnIndexes;\n  var page = args.virtualInfo.page;\n  args.virtualInfo.blockIndexes = [1, 2];\n  args.virtualInfo.page = 1;\n\n  if (!args.renderMovableContent) {\n    args.virtualInfo.columnIndexes = [];\n  }\n\n  var firstRecordslength = parent.getCurrentViewRecords().length;\n  firstPageRecords = parent.renderModule.data.dataManager.dataSource.json.slice(0, firstRecordslength);\n  var virtualRows = virtualRenderer.vgenerator.generateRows(firstPageRecords, args);\n  var rows = splitReorderedRows(virtualRows, parent, args, freezeRowGenerator);\n  args.virtualInfo.blockIndexes = bIndex;\n  args.virtualInfo.columnIndexes = colIndex;\n  args.virtualInfo.page = page;\n  return rows.splice(0, parent.frozenRows);\n}\n/**\r\n * @param {Row<Column>[]} rows - specifies the row\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @param {NotifyArgs} args - specifies the notify arguments\r\n * @param {FreezeRowModelGenerator} freezeRowGenerator - specifies the freezerowgenerator\r\n * @returns {Row<Column>[]} returns the row\r\n * @hidden\r\n */\n\nexport function splitReorderedRows( // eslint-disable-next-line @typescript-eslint/no-unused-vars\nrows, parent, args, freezeRowGenerator) {\n  var tableName;\n\n  if (args.renderMovableContent) {\n    tableName = 'movable';\n  } else if (args.renderFrozenRightContent) {\n    tableName = 'frozen-right';\n  } else {\n    tableName = 'frozen-left';\n  }\n\n  for (var i = 0, len = rows.length; i < len; i++) {\n    rows[i].cells = splitFrozenRowObjectCells(parent, rows[i].cells, tableName);\n  }\n\n  return rows;\n}\n/**\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the VirtualRenderer\r\n * @returns {boolean} returns the isXaxis\r\n * @hidden\r\n */\n\nexport function isXaxis(virtualRenderer) {\n  var value = false;\n\n  if (virtualRenderer) {\n    value = virtualRenderer.requestType === 'virtualscroll' && virtualRenderer.currentInfo.sentinelInfo.axis === 'X';\n  }\n\n  return value;\n}\n/**\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtualrenderer\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @returns {Element[]} returns the element\r\n * @hidden\r\n */\n\nexport function getHeaderCells(virtualRenderer, parent) {\n  var content = isXaxis(virtualRenderer) ? parent.getMovableVirtualHeader() : parent.getHeaderContent();\n  return content ? [].slice.call(content.querySelectorAll('.e-headercell:not(.e-stackedheadercell)')) : [];\n}\n/**\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual Renderer\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @returns {Element} returns the element\r\n * @hidden\r\n */\n\nexport function getVirtualFreezeHeader(virtualRenderer, parent) {\n  var headerTable;\n\n  if (isXaxis(virtualRenderer)) {\n    headerTable = parent.getMovableVirtualHeader().querySelector('.' + literals.table);\n  } else {\n    headerTable = parent.getFrozenVirtualHeader().querySelector('.' + literals.table);\n  }\n\n  return headerTable;\n}\n/**\r\n * @param {Column[]} columns - specifies the columns\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @returns {Column[]} returns the column[]\r\n * @hidden\r\n */\n\nexport function ensureFrozenCols(columns, parent) {\n  var frozenCols = parent.columns.slice(0, parent.getFrozenColumns());\n  columns = frozenCols.concat(columns);\n  return columns;\n}\n/**\r\n * @param {Element} colGroup - specifies the colGroup\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @param {ColumnVirtualFreezeRenderer} instance - specifies the instances\r\n * @returns {Element} returns the element\r\n * @hidden\r\n */\n\nexport function setColGroup(colGroup, virtualRenderer, instance) {\n  if (!isXaxis(virtualRenderer)) {\n    if (!isNullOrUndefined(colGroup)) {\n      colGroup.id = 'content-' + colGroup.id;\n    }\n\n    instance.colgroup = colGroup;\n  }\n\n  return instance.colgroup;\n}\n/**\r\n * @param {VirtualFreezeRenderer} instance - specifies the instance\r\n * @param {number} index - specifies the index\r\n * @returns {void}\r\n * @hidden\r\n */\n\nexport function setCache(instance, index) {\n  if (instance.virtualRenderer.vgenerator.cache[1]) {\n    instance.virtualRenderer.vgenerator.cache[1][index] = instance.frzRows[index];\n  } else {\n    instance.virtualRenderer.vgenerator.cache[1] = instance.frzRows;\n  }\n\n  if (instance.virtualRenderer.vgenerator.movableCache[1]) {\n    instance.virtualRenderer.vgenerator.movableCache[1][index] = instance.mvblRows[index];\n  } else {\n    instance.virtualRenderer.vgenerator.movableCache[1] = instance.mvblRows;\n  }\n}\n/**\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtualRenderer\r\n * @param {Element} scrollbar - specifies the scrollbr\r\n * @param {Element} mCont - specifies the mCont\r\n * @returns {void}\r\n * @hidden\r\n */\n\nexport function setDebounce(parent, virtualRenderer, scrollbar, mCont) {\n  var debounceEvent = parent.dataSource instanceof DataManager && !parent.dataSource.dataSource.offline;\n  var opt = {\n    container: virtualRenderer.content,\n    pageHeight: virtualRenderer.getBlockHeight() * 2,\n    debounceEvent: debounceEvent,\n    axes: parent.enableColumnVirtualization ? ['X', 'Y'] : ['Y'],\n    scrollbar: scrollbar,\n    movableContainer: mCont\n  };\n  virtualRenderer.observer = new InterSectionObserver(virtualRenderer.virtualEle.wrapper, opt, virtualRenderer.virtualEle.movableWrapper);\n}\n/**\r\n * ColumnVirtualFreezeRenderer is used to render the virtual table within the frozen and movable content table\r\n *\r\n * @hidden\r\n */\n\nvar ColumnVirtualFreezeRenderer =\n/** @class */\nfunction (_super) {\n  __extends(ColumnVirtualFreezeRenderer, _super);\n\n  function ColumnVirtualFreezeRenderer(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n    /** @hidden */\n\n\n    _this.frRows = [];\n    /** @hidden */\n\n    _this.frzRows = [];\n    /** @hidden */\n\n    _this.mvblRows = [];\n    _this.serviceLoc = locator;\n\n    _this.eventListener('on');\n\n    _this.rowModelGenerator = new RowModelGenerator(_this.parent);\n    return _this;\n  }\n\n  ColumnVirtualFreezeRenderer.prototype.actionComplete = function (args) {\n    if (args.requestType === 'delete' && this.parent.frozenRows) {\n      for (var i = 0; i < this.parent.frozenRows; i++) {\n        if (this.virtualRenderer.vgenerator.frozenRightCache[1]) {\n          this.virtualRenderer.vgenerator.frozenRightCache[1][i] = this.frRows.length ? this.frRows[i] : this.frzRows[i];\n        } else {\n          this.virtualRenderer.vgenerator.frozenRightCache[1] = this.frRows.length ? this.frRows : this.frzRows;\n          break;\n        }\n\n        setCache(this, i);\n      }\n    }\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.eventListener = function (action) {\n    this.parent.addEventListener(events.actionComplete, this.actionComplete.bind(this));\n    this.parent[action](events.refreshVirtualFrozenRows, this.refreshVirtualFrozenRows, this);\n    this.parent[action](events.getVirtualData, this.getVirtualData, this);\n    this.parent[action](events.setFreezeSelection, this.setFreezeSelection, this);\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.refreshVirtualFrozenRows = function (args) {\n    var _this = this;\n\n    if (args.requestType === 'delete' && this.parent.frozenRows) {\n      args.isFrozenRowsRender = true;\n      var query = this.parent.renderModule.data.generateQuery(true).clone();\n      query.page(1, this.parent.pageSettings.pageSize);\n      var selectedIdx_1 = this.parent.getSelectedRowIndexes();\n      this.parent.renderModule.data.getData({}, query).then(function (e) {\n        renderFrozenRows(args, e.result, selectedIdx_1, _this.parent, _this.rowModelGenerator, _this.serviceLoc, _this.virtualRenderer, _this);\n      });\n    }\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.setFreezeSelection = function (args) {\n    setFreezeSelection(args, this.virtualRenderer);\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.getVirtualData = function (data) {\n    this.virtualRenderer.getVirtualData(data);\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.renderNextFrozentPart = function (e, tableName) {\n    e.renderMovableContent = this.parent.getFrozenLeftCount() ? tableName === literals.frozenLeft : tableName === literals.frozenRight;\n    e.renderFrozenRightContent = this.parent.getFrozenMode() === literals.leftRight && tableName === 'movable';\n\n    if (e.renderMovableContent || e.renderFrozenRightContent) {\n      this.refreshContentRows(extend({}, e));\n    }\n  };\n  /**\r\n   * @returns {void}\r\n   * @hidden\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.renderTable = function () {\n    this.virtualRenderer = new VirtualContentRenderer(this.parent, this.serviceLoc);\n    this.virtualRenderer.header = this.serviceLoc.getService('rendererFactory').getRenderer(RenderType.Header).virtualHdrRenderer;\n    this.freezeRowGenerator = new FreezeRowModelGenerator(this.parent);\n\n    _super.prototype.renderTable.call(this);\n\n    this.virtualRenderer.setPanel(this.parent.getContent());\n    this.scrollbar = this.parent.getContent().querySelector('.e-movablescrollbar');\n    var frozenRightCont = this.getFrozenRightContent();\n    var frzCont = this.getFrozenContent();\n    var movableCont = this.getMovableContent();\n\n    if (this.parent.getFrozenMode() === 'Right') {\n      frzCont = frozenRightCont;\n    }\n\n    this.virtualRenderer.virtualEle.content = this.virtualRenderer.content = this.getPanel().querySelector('.' + literals.content);\n    this.virtualRenderer.virtualEle.content.style.overflowX = 'hidden';\n    var minHeight = this.parent.height;\n    this.virtualRenderer.virtualEle.renderFrozenWrapper(minHeight);\n    this.virtualRenderer.virtualEle.renderFrozenPlaceHolder();\n    this.renderVirtualFrozenLeft(frzCont, movableCont);\n    this.renderVirtualFrozenRight(frzCont, movableCont);\n    this.renderVirtualFrozenLeftRight(frzCont, movableCont, frozenRightCont);\n    this.virtualRenderer.virtualEle.table = this.getTable();\n    setDebounce(this.parent, this.virtualRenderer, this.scrollbar, this.getMovableContent());\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.renderVirtualFrozenLeft = function (frzCont, movableCont) {\n    if (this.parent.getFrozenMode() === 'Left') {\n      this.virtualRenderer.virtualEle.wrapper.appendChild(frzCont);\n      this.virtualRenderer.virtualEle.wrapper.appendChild(movableCont);\n    }\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.renderVirtualFrozenRight = function (frzCont, movableCont) {\n    if (this.parent.getFrozenMode() === 'Right') {\n      this.virtualRenderer.virtualEle.wrapper.appendChild(movableCont);\n      this.virtualRenderer.virtualEle.wrapper.appendChild(frzCont);\n    }\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.renderVirtualFrozenLeftRight = function (frzCont, movableCont, frozenRightCont) {\n    if (this.parent.getFrozenMode() === literals.leftRight) {\n      this.virtualRenderer.virtualEle.wrapper.appendChild(frzCont);\n      this.virtualRenderer.virtualEle.wrapper.appendChild(movableCont);\n      this.virtualRenderer.virtualEle.wrapper.appendChild(frozenRightCont);\n    }\n  };\n  /**\r\n   * @param {HTMLElement} target - specifies the target\r\n   * @param {DocumentFragment} newChild - specifies the newchild\r\n   * @param {NotifyArgs} e - specifies the NotifyArgs\r\n   * @returns {void}\r\n   * @hidden\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.appendContent = function (target, newChild, e) {\n    appendContent(this.virtualRenderer, this.widthService, target, newChild, e);\n    this.refreshScrollOffset();\n  };\n  /**\r\n   * @param {Object[]} data - specifies the data\r\n   * @param {NotifyArgs} e - specifies the notifyargs\r\n   * @returns {Row<Column>[]} returns the row\r\n   * @hidden\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.generateRows = function (data, e) {\n    if (!this.firstPageRecords) {\n      this.firstPageRecords = data;\n    }\n\n    return generateRows(this.virtualRenderer, data, e, this.freezeRowGenerator, this.parent);\n  };\n  /**\r\n   * @param {number} index - specifies the number\r\n   * @returns {Element} returns the element\r\n   * @hidden\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.getRowByIndex = function (index) {\n    return this.virtualRenderer.getRowByIndex(index);\n  };\n  /**\r\n   * @param {number} index - specifies the index\r\n   * @returns {Element} - returns the element\r\n   * @hidden\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.getFrozenRightRowByIndex = function (index) {\n    return this.virtualRenderer.getFrozenRightVirtualRowByIndex(index);\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.collectRows = function (tableName) {\n    return collectRows(tableName, this.virtualRenderer, this.parent);\n  };\n  /**\r\n   * @param {number} index - specifies the index\r\n   * @returns {Element} returns the element\r\n   * @hidden\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.getMovableRowByIndex = function (index) {\n    return this.virtualRenderer.getMovableVirtualRowByIndex(index);\n  };\n  /**\r\n   * @returns {Row<Column>[]} returns the row\r\n   * @hidden\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.getFrozenRightRows = function () {\n    return this.collectRows('frozen-right');\n  };\n  /**\r\n   * @returns {Row<Column>[]} returns the row\r\n   * @hidden\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.getMovableRows = function () {\n    return this.collectRows('movable');\n  };\n  /**\r\n   * @returns {Element} returns the element\r\n   * @hidden\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.getColGroup = function () {\n    var mCol = this.parent.getMovableVirtualContent();\n    return isXaxis(this.virtualRenderer) ? mCol.querySelector(literals.colGroup) : this.colgroup;\n  };\n  /**\r\n   * @returns {Row<Column>[]} returns the row\r\n   * @hidden\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.getRows = function () {\n    return this.collectRows(this.parent.getFrozenMode() === 'Right' ? 'frozen-right' : 'frozen-left');\n  };\n  /**\r\n   * @param {NotifyArgs} args - specifies the args\r\n   * @returns {Row<Column>[]} returns the row object\r\n   * @hidden\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.getReorderedFrozenRows = function (args) {\n    return getReorderedFrozenRows(args, this.virtualRenderer, this.parent, this.freezeRowGenerator, this.firstPageRecords);\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.getHeaderCells = function () {\n    return getHeaderCells(this.virtualRenderer, this.parent);\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.isXaxis = function () {\n    return isXaxis(this.virtualRenderer);\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.getVirtualFreezeHeader = function () {\n    return getVirtualFreezeHeader(this.virtualRenderer, this.parent);\n  };\n  /**\r\n   * @param {number} index - specifies the index\r\n   * @returns {object} - returns the object\r\n   * @hidden\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.getRowObjectByIndex = function (index) {\n    return this.virtualRenderer.getRowObjectByIndex(index);\n  };\n\n  ColumnVirtualFreezeRenderer.prototype.ensureFrozenCols = function (columns) {\n    return ensureFrozenCols(columns, this.parent);\n  };\n  /**\r\n   * Set the header colgroup element\r\n   *\r\n   * @param {Element} colGroup - specifies the colgroup\r\n   * @returns {Element} - returns the element\r\n   */\n\n\n  ColumnVirtualFreezeRenderer.prototype.setColGroup = function (colGroup) {\n    return setColGroup(colGroup, this.virtualRenderer, this);\n  };\n\n  return ColumnVirtualFreezeRenderer;\n}(ColumnFreezeContentRenderer);\n\nexport { ColumnVirtualFreezeRenderer };","map":{"version":3,"sources":["C:/Users/amase/Desktop/open_dsa/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-grids/node_modules/@syncfusion/ej2-grids/src/grid/renderer/virtual-freeze-renderer.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","extend","isNullOrUndefined","DataManager","FreezeContentRender","FreezeRender","ColumnFreezeContentRenderer","VirtualContentRenderer","VirtualHeaderRenderer","RowRenderer","FreezeRowModelGenerator","RowModelGenerator","RenderType","InterSectionObserver","events","splitFrozenRowObjectCells","literals","VirtualFreezeRenderer","_super","parent","locator","_this","call","frzRows","mvblRows","frRows","serviceLoc","eventListener","rowModelGenerator","action","getVirtualData","setFreezeSelection","refreshVirtualFrozenRows","addEventListener","actionComplete","bind","args","requestType","frozenRows","i","setCache","gObj","isFrozenRowsRender","query","renderModule","data","generateQuery","clone","page","pageSettings","pageSize","getData","then","e","renderFrozenRows","result","getSelectedRowIndexes","virtualRenderer","renderTable","freezeRowGenerator","header","getService","getRenderer","Header","virtualHdrRenderer","setPanel","getContent","scrollbar","querySelector","movableCont","getMovableContent","minHeight","height","virtualEle","content","getPanel","style","overflowX","renderFrozenWrapper","renderFrozenPlaceHolder","enableColumnVirtualization","movableContent","renderMovableWrapper","renderMovablePlaceHolder","tbl","movableTable","movableWrapper","appendChild","movablePlaceholder","wrapper","getFrozenContent","table","getTable","setDebounce","appendContent","target","newChild","widthService","generateRows","notifyArgs","firstPageRecords","getRowByIndex","index","getMovableRowByIndex","getMovableVirtualRowByIndex","collectRows","tableName","getMovableRows","getRows","getColGroup","mCol","getMovableVirtualContent","isXaxis","colGroup","colgroup","getReorderedFrozenRows","getHeaderCells","getVirtualFreezeHeader","ensureFrozenCols","columns","getRowObjectByIndex","setColGroup","VirtualFreezeHdrRenderer","gen","refreshColOffsets","setColumnIndexesInView","getColumnIndexes","headerContent","movableHeader","getHeaderContent","rfshMovable","getFrozenHeader","createHeader","undefined","getMovableHeader","createTable","selectedIdx","instance","clearSelection","startIndex","rowRenderer","rows","renderMovableContent","vgenerator","movableCache","getMovableRowsObject","renderFrozenRightContent","cache","getRowsObject","frozenRightCache","getFrozenRightRowsObject","hdr","frozenHeader","tbody","innerHTML","render","getColumns","indexOf","isSelected","k","cells","length","getFrozenMode","leftRight","splitCells","push","frozenLeft","frozenRight","keys","concat","leftKeys","movableKeys","rightKeys","selectFreezeRows","filter","row","clearAll","uid","j","set","refreshFrozenScrollbar","virtualRows","arr","map","currentPage","slice","bIndex","virtualInfo","blockIndexes","colIndex","columnIndexes","firstRecordslength","getCurrentViewRecords","dataManager","dataSource","json","splitReorderedRows","splice","len","value","currentInfo","sentinelInfo","axis","getMovableVirtualHeader","querySelectorAll","headerTable","getFrozenVirtualHeader","frozenCols","getFrozenColumns","id","mCont","debounceEvent","offline","opt","container","pageHeight","getBlockHeight","axes","movableContainer","observer","ColumnVirtualFreezeRenderer","selectedIdx_1","renderNextFrozentPart","getFrozenLeftCount","refreshContentRows","frozenRightCont","getFrozenRightContent","frzCont","renderVirtualFrozenLeft","renderVirtualFrozenRight","renderVirtualFrozenLeftRight","refreshScrollOffset","getFrozenRightRowByIndex","getFrozenRightVirtualRowByIndex","getFrozenRightRows"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\r\nimport { DataManager } from '@syncfusion/ej2-data';\r\nimport { FreezeContentRender, FreezeRender } from './freeze-renderer';\r\nimport { ColumnFreezeContentRenderer } from './column-freeze-renderer';\r\nimport { VirtualContentRenderer, VirtualHeaderRenderer } from './virtual-content-renderer';\r\nimport { RowRenderer } from '../renderer/row-renderer';\r\nimport { FreezeRowModelGenerator } from '../services/freeze-row-model-generator';\r\nimport { RowModelGenerator } from '../services/row-model-generator';\r\nimport { RenderType } from '../base/enum';\r\nimport { InterSectionObserver } from '../services/intersection-observer';\r\nimport * as events from '../base/constant';\r\nimport { splitFrozenRowObjectCells } from '../base/util';\r\nimport * as literals from '../base/string-literals';\r\n/**\r\n * VirtualFreezeRenderer is used to render the virtual table within the frozen and movable content table\r\n *\r\n * @hidden\r\n */\r\nvar VirtualFreezeRenderer = /** @class */ (function (_super) {\r\n    __extends(VirtualFreezeRenderer, _super);\r\n    function VirtualFreezeRenderer(parent, locator) {\r\n        var _this = _super.call(this, parent, locator) || this;\r\n        /** @hidden */\r\n        _this.frzRows = [];\r\n        /** @hidden */\r\n        _this.mvblRows = [];\r\n        /** @hidden */\r\n        _this.frRows = [];\r\n        _this.serviceLoc = locator;\r\n        _this.eventListener('on');\r\n        _this.rowModelGenerator = new RowModelGenerator(_this.parent);\r\n        return _this;\r\n    }\r\n    VirtualFreezeRenderer.prototype.eventListener = function (action) {\r\n        this.parent[action](events.getVirtualData, this.getVirtualData, this);\r\n        this.parent[action](events.setFreezeSelection, this.setFreezeSelection, this);\r\n        this.parent[action](events.refreshVirtualFrozenRows, this.refreshVirtualFrozenRows, this);\r\n        this.parent.addEventListener(events.actionComplete, this.actionComplete.bind(this));\r\n    };\r\n    VirtualFreezeRenderer.prototype.actionComplete = function (args) {\r\n        if (args.requestType === 'delete' && this.parent.frozenRows) {\r\n            for (var i = 0; i < this.parent.frozenRows; i++) {\r\n                setCache(this, i);\r\n            }\r\n        }\r\n    };\r\n    VirtualFreezeRenderer.prototype.refreshVirtualFrozenRows = function (args) {\r\n        var _this = this;\r\n        var gObj = this.parent;\r\n        if (args.requestType === 'delete' && gObj.frozenRows) {\r\n            args.isFrozenRowsRender = true;\r\n            var query = gObj.renderModule.data.generateQuery(true).clone();\r\n            query.page(1, gObj.pageSettings.pageSize);\r\n            gObj.renderModule.data.getData({}, query).then(function (e) {\r\n                renderFrozenRows(args, e.result, gObj.getSelectedRowIndexes(), gObj, _this.rowModelGenerator, _this.serviceLoc, _this.virtualRenderer, _this);\r\n            });\r\n        }\r\n    };\r\n    VirtualFreezeRenderer.prototype.getVirtualData = function (data) {\r\n        this.virtualRenderer.getVirtualData(data);\r\n    };\r\n    VirtualFreezeRenderer.prototype.setFreezeSelection = function (args) {\r\n        setFreezeSelection(args, this.virtualRenderer);\r\n    };\r\n    /**\r\n     * @returns {void}\r\n     * @hidden\r\n     */\r\n    VirtualFreezeRenderer.prototype.renderTable = function () {\r\n        this.freezeRowGenerator = new FreezeRowModelGenerator(this.parent);\r\n        this.virtualRenderer = new VirtualContentRenderer(this.parent, this.serviceLoc);\r\n        this.virtualRenderer.header = this.serviceLoc.getService('rendererFactory')\r\n            .getRenderer(RenderType.Header).virtualHdrRenderer;\r\n        _super.prototype.renderTable.call(this);\r\n        this.virtualRenderer.setPanel(this.parent.getContent());\r\n        this.scrollbar = this.parent.getContent().querySelector('.e-movablescrollbar');\r\n        var movableCont = this.getMovableContent();\r\n        var minHeight = this.parent.height;\r\n        this.virtualRenderer.virtualEle.content = this.virtualRenderer.content = this.getPanel().querySelector('.' + literals.content);\r\n        this.virtualRenderer.virtualEle.content.style.overflowX = 'hidden';\r\n        this.virtualRenderer.virtualEle.renderFrozenWrapper(minHeight);\r\n        this.virtualRenderer.virtualEle.renderFrozenPlaceHolder();\r\n        if (this.parent.enableColumnVirtualization) {\r\n            this.virtualRenderer.virtualEle.movableContent = this.virtualRenderer.movableContent\r\n                = this.getPanel().querySelector('.' + literals.movableContent);\r\n            this.virtualRenderer.virtualEle.renderMovableWrapper(minHeight);\r\n            this.virtualRenderer.virtualEle.renderMovablePlaceHolder();\r\n            var tbl = movableCont.querySelector('table');\r\n            this.virtualRenderer.virtualEle.movableTable = tbl;\r\n            this.virtualRenderer.virtualEle.movableWrapper.appendChild(tbl);\r\n            movableCont.appendChild(this.virtualRenderer.virtualEle.movableWrapper);\r\n            movableCont.appendChild(this.virtualRenderer.virtualEle.movablePlaceholder);\r\n        }\r\n        this.virtualRenderer.virtualEle.wrapper.appendChild(this.getFrozenContent());\r\n        this.virtualRenderer.virtualEle.wrapper.appendChild(movableCont);\r\n        this.virtualRenderer.virtualEle.table = this.getTable();\r\n        setDebounce(this.parent, this.virtualRenderer, this.scrollbar, this.getMovableContent());\r\n    };\r\n    /**\r\n     * @param {HTMLElement} target - specifies the target\r\n     * @param {DocumentFragment} newChild - specifies the newChild\r\n     * @param {NotifyArgs} e - specifies the notifyargs\r\n     * @returns {void}\r\n     * @hidden\r\n     */\r\n    VirtualFreezeRenderer.prototype.appendContent = function (target, newChild, e) {\r\n        appendContent(this.virtualRenderer, this.widthService, target, newChild, e);\r\n    };\r\n    /**\r\n     * @param {Object[]} data - specifies the data\r\n     * @param {NotifyArgs} notifyArgs - specifies the notifyargs\r\n     * @returns {Row<Column>[]} returns the row\r\n     * @hidden\r\n     */\r\n    VirtualFreezeRenderer.prototype.generateRows = function (data, notifyArgs) {\r\n        if (!this.firstPageRecords) {\r\n            this.firstPageRecords = data;\r\n        }\r\n        return generateRows(this.virtualRenderer, data, notifyArgs, this.freezeRowGenerator, this.parent);\r\n    };\r\n    /**\r\n     * @param {number} index - specifies the index\r\n     * @returns {Element} returns the element\r\n     * @hidden\r\n     */\r\n    VirtualFreezeRenderer.prototype.getRowByIndex = function (index) {\r\n        return this.virtualRenderer.getRowByIndex(index);\r\n    };\r\n    /**\r\n     * @param {number} index - specifies the index\r\n     * @returns {Element} returns the element\r\n     * @hidden\r\n     */\r\n    VirtualFreezeRenderer.prototype.getMovableRowByIndex = function (index) {\r\n        return this.virtualRenderer.getMovableVirtualRowByIndex(index);\r\n    };\r\n    VirtualFreezeRenderer.prototype.collectRows = function (tableName) {\r\n        return collectRows(tableName, this.virtualRenderer, this.parent);\r\n    };\r\n    /**\r\n     * @returns {HTMLCollection} returns the Htmlcollection\r\n     * @hidden\r\n     */\r\n    VirtualFreezeRenderer.prototype.getMovableRows = function () {\r\n        return this.collectRows('movable');\r\n    };\r\n    /**\r\n     * @returns {HTMLCollectionOf<HTMLTableRowElement>} returns the html collection\r\n     * @hidden\r\n     */\r\n    VirtualFreezeRenderer.prototype.getRows = function () {\r\n        return this.collectRows('frozen-left');\r\n    };\r\n    /**\r\n     * @returns {Element} returns the element\r\n     * @hidden\r\n     */\r\n    VirtualFreezeRenderer.prototype.getColGroup = function () {\r\n        var mCol = this.parent.getMovableVirtualContent();\r\n        return this.isXaxis() ? mCol.querySelector(literals.colGroup) : this.colgroup;\r\n    };\r\n    /**\r\n     * @param {NotifyArgs} args - specifies the args\r\n     * @returns {Row<Column>[]} returns the row\r\n     * @hidden\r\n     */\r\n    VirtualFreezeRenderer.prototype.getReorderedFrozenRows = function (args) {\r\n        return getReorderedFrozenRows(args, this.virtualRenderer, this.parent, this.freezeRowGenerator, this.firstPageRecords);\r\n    };\r\n    VirtualFreezeRenderer.prototype.isXaxis = function () {\r\n        return isXaxis(this.virtualRenderer);\r\n    };\r\n    VirtualFreezeRenderer.prototype.getHeaderCells = function () {\r\n        return getHeaderCells(this.virtualRenderer, this.parent);\r\n    };\r\n    VirtualFreezeRenderer.prototype.getVirtualFreezeHeader = function () {\r\n        return getVirtualFreezeHeader(this.virtualRenderer, this.parent);\r\n    };\r\n    VirtualFreezeRenderer.prototype.ensureFrozenCols = function (columns) {\r\n        return ensureFrozenCols(columns, this.parent);\r\n    };\r\n    /**\r\n     * @param {number} index - specifies the index\r\n     * @returns {object} returns the object\r\n     * @hidden\r\n     */\r\n    VirtualFreezeRenderer.prototype.getRowObjectByIndex = function (index) {\r\n        return this.virtualRenderer.getRowObjectByIndex(index);\r\n    };\r\n    /**\r\n     * Set the header colgroup element\r\n     *\r\n     * @param {Element} colGroup - specifies the colgroup\r\n     * @returns {Element} returns the element\r\n     */\r\n    VirtualFreezeRenderer.prototype.setColGroup = function (colGroup) {\r\n        return setColGroup(colGroup, this.virtualRenderer, this);\r\n    };\r\n    return VirtualFreezeRenderer;\r\n}(FreezeContentRender));\r\nexport { VirtualFreezeRenderer };\r\n/**\r\n * VirtualFreezeHdrRenderer is used to render the virtual table within the frozen and movable header table\r\n *\r\n * @hidden\r\n */\r\nvar VirtualFreezeHdrRenderer = /** @class */ (function (_super) {\r\n    __extends(VirtualFreezeHdrRenderer, _super);\r\n    function VirtualFreezeHdrRenderer(parent, locator) {\r\n        var _this = _super.call(this, parent, locator) || this;\r\n        _this.serviceLoc = locator;\r\n        return _this;\r\n    }\r\n    /**\r\n     * @returns {void}\r\n     * @hidden\r\n     */\r\n    VirtualFreezeHdrRenderer.prototype.renderTable = function () {\r\n        this.virtualHdrRenderer = new VirtualHeaderRenderer(this.parent, this.serviceLoc);\r\n        this.virtualHdrRenderer.gen.refreshColOffsets();\r\n        this.parent.setColumnIndexesInView(this.virtualHdrRenderer.gen.getColumnIndexes(this.getPanel()\r\n            .querySelector('.' + literals.headerContent)));\r\n        this.virtualHdrRenderer.virtualEle.content = this.getPanel().querySelector('.' + literals.headerContent);\r\n        this.virtualHdrRenderer.virtualEle.renderFrozenWrapper();\r\n        this.virtualHdrRenderer.virtualEle.renderFrozenPlaceHolder();\r\n        if (this.parent.enableColumnVirtualization) {\r\n            this.virtualHdrRenderer.virtualEle.movableContent = this.getPanel().querySelector('.' + literals.movableHeader);\r\n            this.virtualHdrRenderer.virtualEle.renderMovableWrapper();\r\n            this.virtualHdrRenderer.virtualEle.renderMovablePlaceHolder();\r\n        }\r\n        _super.prototype.renderTable.call(this);\r\n        this.virtualHdrRenderer.setPanel(this.parent.getHeaderContent());\r\n    };\r\n    VirtualFreezeHdrRenderer.prototype.rfshMovable = function () {\r\n        this.getFrozenHeader().appendChild(this.getTable());\r\n        this.virtualHdrRenderer.virtualEle.wrapper.appendChild(this.getFrozenHeader());\r\n        if (this.parent.enableColumnVirtualization) {\r\n            this.virtualHdrRenderer.virtualEle.movableWrapper.appendChild(this.createHeader(undefined, 'movable'));\r\n        }\r\n        else {\r\n            this.getMovableHeader().appendChild(this.createTable());\r\n        }\r\n        this.virtualHdrRenderer.virtualEle.wrapper.appendChild(this.getMovableHeader());\r\n    };\r\n    return VirtualFreezeHdrRenderer;\r\n}(FreezeRender));\r\nexport { VirtualFreezeHdrRenderer };\r\n/**\r\n * @param {NotifyArgs} args - specifies the args\r\n * @param {Object[]} data - specifies the data\r\n * @param {number[]}selectedIdx - specifies the selected index\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @param {IModelGenerator} rowModelGenerator - specifies the rowModeGenerator\r\n * @param {ServiceLocator} locator - specifies the locator\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @param {VirtualFreezeRenderer} instance - specifies the instance\r\n * @returns {void}\r\n * @hidden\r\n */\r\nexport function renderFrozenRows(args, data, selectedIdx, parent, rowModelGenerator, locator, virtualRenderer, instance) {\r\n    parent.clearSelection();\r\n    args.startIndex = 0;\r\n    var rowRenderer = new RowRenderer(locator, null, parent);\r\n    var rows = rowModelGenerator.generateRows(data, args);\r\n    if (args.renderMovableContent) {\r\n        virtualRenderer.vgenerator.movableCache[1] = rows;\r\n        rows = parent.getMovableRowsObject();\r\n    }\r\n    else if (!args.renderFrozenRightContent && !args.renderMovableContent) {\r\n        virtualRenderer.vgenerator.cache[1] = rows;\r\n        rows = parent.getRowsObject();\r\n    }\r\n    else if (args.renderFrozenRightContent) {\r\n        virtualRenderer.vgenerator.frozenRightCache[1] = rows;\r\n        rows = parent.getFrozenRightRowsObject();\r\n    }\r\n    var hdr = !args.renderMovableContent && !args.renderFrozenRightContent\r\n        ? parent.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody) : args.renderMovableContent\r\n        ? parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody)\r\n        : parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector(literals.tbody);\r\n    hdr.innerHTML = '';\r\n    for (var i = 0; i < parent.frozenRows; i++) {\r\n        hdr.appendChild(rowRenderer.render(rows[i], parent.getColumns()));\r\n        if (selectedIdx.indexOf(i) > -1) {\r\n            rows[i].isSelected = true;\r\n            for (var k = 0; k < rows[i].cells.length; k++) {\r\n                rows[i].cells[k].isSelected = true;\r\n            }\r\n        }\r\n    }\r\n    if (args.renderMovableContent) {\r\n        instance.mvblRows = virtualRenderer.vgenerator.movableCache[1];\r\n    }\r\n    else if (!args.renderMovableContent && !args.renderFrozenRightContent) {\r\n        instance.frzRows = virtualRenderer.vgenerator.cache[1];\r\n    }\r\n    else if (args.renderFrozenRightContent) {\r\n        instance.frRows = virtualRenderer.vgenerator.frozenRightCache[1];\r\n    }\r\n    args.renderMovableContent = !args.renderMovableContent && !args.renderFrozenRightContent;\r\n    args.renderFrozenRightContent = parent.getFrozenMode() === literals.leftRight\r\n        && !args.renderMovableContent && !args.renderFrozenRightContent;\r\n    if (args.renderMovableContent || args.renderFrozenRightContent) {\r\n        renderFrozenRows(args, data, selectedIdx, parent, rowModelGenerator, locator, virtualRenderer, instance);\r\n        if (!args.renderMovableContent && !args.renderFrozenRightContent) {\r\n            args.isFrozenRowsRender = false;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @param {Row<Column>[]} data - specifies the data\r\n * @param {freezeTable} tableName -specifies the table\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @returns {Row<Column>[]} returns the row\r\n * @hidden\r\n */\r\nexport function splitCells(data, tableName, parent) {\r\n    var rows = [];\r\n    for (var i = 0; i < data.length; i++) {\r\n        rows.push(extend({}, data[i]));\r\n        rows[i].cells = splitFrozenRowObjectCells(parent, rows[i].cells, tableName);\r\n    }\r\n    return rows;\r\n}\r\n/**\r\n * @param {freezeTable} tableName - specifies the freeze tabel\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @returns {Row<Column>[]} returns the row\r\n * @hidden\r\n */\r\nexport function collectRows(tableName, virtualRenderer, parent) {\r\n    var rows = [];\r\n    var cache;\r\n    if (tableName === literals.frozenLeft) {\r\n        cache = virtualRenderer.vgenerator.cache;\r\n    }\r\n    else if (tableName === 'movable') {\r\n        cache = virtualRenderer.vgenerator.movableCache;\r\n    }\r\n    else if (tableName === literals.frozenRight) {\r\n        cache = parent.getFrozenMode() === 'Right' ? virtualRenderer.vgenerator.cache : virtualRenderer.vgenerator.frozenRightCache;\r\n    }\r\n    var keys = Object.keys(cache);\r\n    for (var i = 0; i < keys.length; i++) {\r\n        rows = rows.concat(splitCells(cache[keys[i]], tableName, parent));\r\n    }\r\n    return rows;\r\n}\r\n/**\r\n * @param {object} args - specifies the args\r\n * @param {string} args.uid - specifirs the uid\r\n * @param {boolean} args.set - specifies the set\r\n * @param {boolean} args.clearAll - specifies the boolean to clearall\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @returns {void}\r\n * @hidden\r\n */\r\nexport function setFreezeSelection(args, virtualRenderer) {\r\n    var leftKeys = Object.keys(virtualRenderer.vgenerator.cache);\r\n    var movableKeys = Object.keys(virtualRenderer.vgenerator.movableCache);\r\n    var rightKeys = Object.keys(virtualRenderer.vgenerator.frozenRightCache);\r\n    for (var i = 0; i < leftKeys.length; i++) {\r\n        selectFreezeRows(args, virtualRenderer.vgenerator.cache[leftKeys[i]]);\r\n    }\r\n    for (var i = 0; i < movableKeys.length; i++) {\r\n        selectFreezeRows(args, virtualRenderer.vgenerator.movableCache[movableKeys[i]]);\r\n    }\r\n    for (var i = 0; i < rightKeys.length; i++) {\r\n        selectFreezeRows(args, virtualRenderer.vgenerator.frozenRightCache[rightKeys[i]]);\r\n    }\r\n}\r\n/**\r\n * @param {Object} args - specifies the args\r\n * @param {string} args.uid - specifirs the uid\r\n * @param {boolean} args.set - specifies the set\r\n * @param {boolean} args.clearAll - specifies the boolean to clearall\r\n * @param {Row<Column>[]} cache - specifies the cache\r\n * @returns {void}\r\n * @hidden\r\n */\r\nexport function selectFreezeRows(args, cache) {\r\n    var rows = cache.filter(function (row) { return args.clearAll || args.uid === row.uid; });\r\n    for (var j = 0; j < rows.length; j++) {\r\n        rows[j].isSelected = args.set;\r\n        var cells = rows[j].cells;\r\n        for (var k = 0; k < cells.length; k++) {\r\n            cells[k].isSelected = args.set;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @param {ColumnWidthService} widthService - specifies the width service\r\n * @param {HTMLElement} target - specifies the target\r\n * @param {DocumentFragment} newChild - specifies the newchild\r\n * @param {NotifyArgs} e - specifies the notifyargs\r\n * @returns {void}\r\n * @hidden\r\n */\r\nexport function appendContent(virtualRenderer, widthService, target, newChild, e) {\r\n    virtualRenderer.appendContent(target, newChild, e);\r\n    widthService.refreshFrozenScrollbar();\r\n}\r\n/**\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @param {object[]} data - specifies the data\r\n * @param {NotifyArgs} notifyArgs - specifies the notifyargs\r\n * @param {FreezeRowModelGenerator} freezeRowGenerator - specifies the freeze row generator\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @returns {Row<Column>[]} returns the row\r\n * @hidden\r\n */\r\nexport function generateRows(virtualRenderer, data, notifyArgs, freezeRowGenerator, parent) {\r\n    var virtualRows = virtualRenderer.vgenerator.generateRows(data, notifyArgs);\r\n    var arr = [];\r\n    arr = virtualRows.map(function (row) { return extend({}, row); });\r\n    var rows = freezeRowGenerator.generateRows(data, notifyArgs, arr);\r\n    if (parent.frozenRows && notifyArgs.requestType === 'delete' && parent.pageSettings.currentPage === 1) {\r\n        rows = rows.slice(parent.frozenRows);\r\n    }\r\n    return rows;\r\n}\r\n/**\r\n * @param {NotifyArgs} args -specifies the args\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @param {FreezeRowModelGenerator} freezeRowGenerator - specifies the freezeRowGenerator\r\n * @param {Object[]} firstPageRecords - specifies the first page records\r\n * @returns {Row<Column>[]} returns the row\r\n * @hidden\r\n */\r\nexport function getReorderedFrozenRows(args, virtualRenderer, parent, freezeRowGenerator, firstPageRecords) {\r\n    var bIndex = args.virtualInfo.blockIndexes;\r\n    var colIndex = args.virtualInfo.columnIndexes;\r\n    var page = args.virtualInfo.page;\r\n    args.virtualInfo.blockIndexes = [1, 2];\r\n    args.virtualInfo.page = 1;\r\n    if (!args.renderMovableContent) {\r\n        args.virtualInfo.columnIndexes = [];\r\n    }\r\n    var firstRecordslength = parent.getCurrentViewRecords().length;\r\n    firstPageRecords = parent.renderModule.data.dataManager.dataSource.json.slice(0, firstRecordslength);\r\n    var virtualRows = virtualRenderer.vgenerator.generateRows(firstPageRecords, args);\r\n    var rows = splitReorderedRows(virtualRows, parent, args, freezeRowGenerator);\r\n    args.virtualInfo.blockIndexes = bIndex;\r\n    args.virtualInfo.columnIndexes = colIndex;\r\n    args.virtualInfo.page = page;\r\n    return rows.splice(0, parent.frozenRows);\r\n}\r\n/**\r\n * @param {Row<Column>[]} rows - specifies the row\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @param {NotifyArgs} args - specifies the notify arguments\r\n * @param {FreezeRowModelGenerator} freezeRowGenerator - specifies the freezerowgenerator\r\n * @returns {Row<Column>[]} returns the row\r\n * @hidden\r\n */\r\nexport function splitReorderedRows(\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nrows, parent, args, freezeRowGenerator) {\r\n    var tableName;\r\n    if (args.renderMovableContent) {\r\n        tableName = 'movable';\r\n    }\r\n    else if (args.renderFrozenRightContent) {\r\n        tableName = 'frozen-right';\r\n    }\r\n    else {\r\n        tableName = 'frozen-left';\r\n    }\r\n    for (var i = 0, len = rows.length; i < len; i++) {\r\n        rows[i].cells = splitFrozenRowObjectCells(parent, rows[i].cells, tableName);\r\n    }\r\n    return rows;\r\n}\r\n/**\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the VirtualRenderer\r\n * @returns {boolean} returns the isXaxis\r\n * @hidden\r\n */\r\nexport function isXaxis(virtualRenderer) {\r\n    var value = false;\r\n    if (virtualRenderer) {\r\n        value = virtualRenderer.requestType === 'virtualscroll'\r\n            && virtualRenderer.currentInfo.sentinelInfo.axis === 'X';\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtualrenderer\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @returns {Element[]} returns the element\r\n * @hidden\r\n */\r\nexport function getHeaderCells(virtualRenderer, parent) {\r\n    var content = isXaxis(virtualRenderer) ? parent.getMovableVirtualHeader() : parent.getHeaderContent();\r\n    return content ? [].slice.call(content.querySelectorAll('.e-headercell:not(.e-stackedheadercell)')) : [];\r\n}\r\n/**\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual Renderer\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @returns {Element} returns the element\r\n * @hidden\r\n */\r\nexport function getVirtualFreezeHeader(virtualRenderer, parent) {\r\n    var headerTable;\r\n    if (isXaxis(virtualRenderer)) {\r\n        headerTable = parent.getMovableVirtualHeader().querySelector('.' + literals.table);\r\n    }\r\n    else {\r\n        headerTable = parent.getFrozenVirtualHeader().querySelector('.' + literals.table);\r\n    }\r\n    return headerTable;\r\n}\r\n/**\r\n * @param {Column[]} columns - specifies the columns\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @returns {Column[]} returns the column[]\r\n * @hidden\r\n */\r\nexport function ensureFrozenCols(columns, parent) {\r\n    var frozenCols = parent.columns.slice(0, parent.getFrozenColumns());\r\n    columns = frozenCols.concat(columns);\r\n    return columns;\r\n}\r\n/**\r\n * @param {Element} colGroup - specifies the colGroup\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtual renderer\r\n * @param {ColumnVirtualFreezeRenderer} instance - specifies the instances\r\n * @returns {Element} returns the element\r\n * @hidden\r\n */\r\nexport function setColGroup(colGroup, virtualRenderer, instance) {\r\n    if (!isXaxis(virtualRenderer)) {\r\n        if (!isNullOrUndefined(colGroup)) {\r\n            colGroup.id = 'content-' + colGroup.id;\r\n        }\r\n        instance.colgroup = colGroup;\r\n    }\r\n    return instance.colgroup;\r\n}\r\n/**\r\n * @param {VirtualFreezeRenderer} instance - specifies the instance\r\n * @param {number} index - specifies the index\r\n * @returns {void}\r\n * @hidden\r\n */\r\nexport function setCache(instance, index) {\r\n    if (instance.virtualRenderer.vgenerator.cache[1]) {\r\n        instance.virtualRenderer.vgenerator.cache[1][index] = instance.frzRows[index];\r\n    }\r\n    else {\r\n        instance.virtualRenderer.vgenerator.cache[1] = instance.frzRows;\r\n    }\r\n    if (instance.virtualRenderer.vgenerator.movableCache[1]) {\r\n        instance.virtualRenderer.vgenerator.movableCache[1][index] = instance.mvblRows[index];\r\n    }\r\n    else {\r\n        instance.virtualRenderer.vgenerator.movableCache[1] = instance.mvblRows;\r\n    }\r\n}\r\n/**\r\n * @param {IGrid} parent - specifies the IGrid\r\n * @param {VirtualContentRenderer} virtualRenderer - specifies the virtualRenderer\r\n * @param {Element} scrollbar - specifies the scrollbr\r\n * @param {Element} mCont - specifies the mCont\r\n * @returns {void}\r\n * @hidden\r\n */\r\nexport function setDebounce(parent, virtualRenderer, scrollbar, mCont) {\r\n    var debounceEvent = (parent.dataSource instanceof DataManager && !parent.dataSource.dataSource.offline);\r\n    var opt = {\r\n        container: virtualRenderer.content, pageHeight: virtualRenderer.getBlockHeight() * 2, debounceEvent: debounceEvent,\r\n        axes: parent.enableColumnVirtualization ? ['X', 'Y'] : ['Y'], scrollbar: scrollbar,\r\n        movableContainer: mCont\r\n    };\r\n    virtualRenderer.observer = new InterSectionObserver(virtualRenderer.virtualEle.wrapper, opt, virtualRenderer.virtualEle.movableWrapper);\r\n}\r\n/**\r\n * ColumnVirtualFreezeRenderer is used to render the virtual table within the frozen and movable content table\r\n *\r\n * @hidden\r\n */\r\nvar ColumnVirtualFreezeRenderer = /** @class */ (function (_super) {\r\n    __extends(ColumnVirtualFreezeRenderer, _super);\r\n    function ColumnVirtualFreezeRenderer(parent, locator) {\r\n        var _this = _super.call(this, parent, locator) || this;\r\n        /** @hidden */\r\n        _this.frRows = [];\r\n        /** @hidden */\r\n        _this.frzRows = [];\r\n        /** @hidden */\r\n        _this.mvblRows = [];\r\n        _this.serviceLoc = locator;\r\n        _this.eventListener('on');\r\n        _this.rowModelGenerator = new RowModelGenerator(_this.parent);\r\n        return _this;\r\n    }\r\n    ColumnVirtualFreezeRenderer.prototype.actionComplete = function (args) {\r\n        if (args.requestType === 'delete' && this.parent.frozenRows) {\r\n            for (var i = 0; i < this.parent.frozenRows; i++) {\r\n                if (this.virtualRenderer.vgenerator.frozenRightCache[1]) {\r\n                    this.virtualRenderer.vgenerator.frozenRightCache[1][i] = this.frRows.length ? this.frRows[i] : this.frzRows[i];\r\n                }\r\n                else {\r\n                    this.virtualRenderer.vgenerator.frozenRightCache[1] = this.frRows.length ? this.frRows : this.frzRows;\r\n                    break;\r\n                }\r\n                setCache(this, i);\r\n            }\r\n        }\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.eventListener = function (action) {\r\n        this.parent.addEventListener(events.actionComplete, this.actionComplete.bind(this));\r\n        this.parent[action](events.refreshVirtualFrozenRows, this.refreshVirtualFrozenRows, this);\r\n        this.parent[action](events.getVirtualData, this.getVirtualData, this);\r\n        this.parent[action](events.setFreezeSelection, this.setFreezeSelection, this);\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.refreshVirtualFrozenRows = function (args) {\r\n        var _this = this;\r\n        if (args.requestType === 'delete' && this.parent.frozenRows) {\r\n            args.isFrozenRowsRender = true;\r\n            var query = this.parent.renderModule.data.generateQuery(true).clone();\r\n            query.page(1, this.parent.pageSettings.pageSize);\r\n            var selectedIdx_1 = this.parent.getSelectedRowIndexes();\r\n            this.parent.renderModule.data.getData({}, query).then(function (e) {\r\n                renderFrozenRows(args, e.result, selectedIdx_1, _this.parent, _this.rowModelGenerator, _this.serviceLoc, _this.virtualRenderer, _this);\r\n            });\r\n        }\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.setFreezeSelection = function (args) {\r\n        setFreezeSelection(args, this.virtualRenderer);\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.getVirtualData = function (data) {\r\n        this.virtualRenderer.getVirtualData(data);\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.renderNextFrozentPart = function (e, tableName) {\r\n        e.renderMovableContent = this.parent.getFrozenLeftCount() ? tableName === literals.frozenLeft : tableName === literals.frozenRight;\r\n        e.renderFrozenRightContent = this.parent.getFrozenMode() === literals.leftRight && tableName === 'movable';\r\n        if (e.renderMovableContent || e.renderFrozenRightContent) {\r\n            this.refreshContentRows(extend({}, e));\r\n        }\r\n    };\r\n    /**\r\n     * @returns {void}\r\n     * @hidden\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.renderTable = function () {\r\n        this.virtualRenderer = new VirtualContentRenderer(this.parent, this.serviceLoc);\r\n        this.virtualRenderer.header = this.serviceLoc.getService('rendererFactory')\r\n            .getRenderer(RenderType.Header).virtualHdrRenderer;\r\n        this.freezeRowGenerator = new FreezeRowModelGenerator(this.parent);\r\n        _super.prototype.renderTable.call(this);\r\n        this.virtualRenderer.setPanel(this.parent.getContent());\r\n        this.scrollbar = this.parent.getContent().querySelector('.e-movablescrollbar');\r\n        var frozenRightCont = this.getFrozenRightContent();\r\n        var frzCont = this.getFrozenContent();\r\n        var movableCont = this.getMovableContent();\r\n        if (this.parent.getFrozenMode() === 'Right') {\r\n            frzCont = frozenRightCont;\r\n        }\r\n        this.virtualRenderer.virtualEle.content = this.virtualRenderer.content = this.getPanel().querySelector('.' + literals.content);\r\n        this.virtualRenderer.virtualEle.content.style.overflowX = 'hidden';\r\n        var minHeight = this.parent.height;\r\n        this.virtualRenderer.virtualEle.renderFrozenWrapper(minHeight);\r\n        this.virtualRenderer.virtualEle.renderFrozenPlaceHolder();\r\n        this.renderVirtualFrozenLeft(frzCont, movableCont);\r\n        this.renderVirtualFrozenRight(frzCont, movableCont);\r\n        this.renderVirtualFrozenLeftRight(frzCont, movableCont, frozenRightCont);\r\n        this.virtualRenderer.virtualEle.table = this.getTable();\r\n        setDebounce(this.parent, this.virtualRenderer, this.scrollbar, this.getMovableContent());\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.renderVirtualFrozenLeft = function (frzCont, movableCont) {\r\n        if (this.parent.getFrozenMode() === 'Left') {\r\n            this.virtualRenderer.virtualEle.wrapper.appendChild(frzCont);\r\n            this.virtualRenderer.virtualEle.wrapper.appendChild(movableCont);\r\n        }\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.renderVirtualFrozenRight = function (frzCont, movableCont) {\r\n        if (this.parent.getFrozenMode() === 'Right') {\r\n            this.virtualRenderer.virtualEle.wrapper.appendChild(movableCont);\r\n            this.virtualRenderer.virtualEle.wrapper.appendChild(frzCont);\r\n        }\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.renderVirtualFrozenLeftRight = function (frzCont, movableCont, frozenRightCont) {\r\n        if (this.parent.getFrozenMode() === literals.leftRight) {\r\n            this.virtualRenderer.virtualEle.wrapper.appendChild(frzCont);\r\n            this.virtualRenderer.virtualEle.wrapper.appendChild(movableCont);\r\n            this.virtualRenderer.virtualEle.wrapper.appendChild(frozenRightCont);\r\n        }\r\n    };\r\n    /**\r\n     * @param {HTMLElement} target - specifies the target\r\n     * @param {DocumentFragment} newChild - specifies the newchild\r\n     * @param {NotifyArgs} e - specifies the NotifyArgs\r\n     * @returns {void}\r\n     * @hidden\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.appendContent = function (target, newChild, e) {\r\n        appendContent(this.virtualRenderer, this.widthService, target, newChild, e);\r\n        this.refreshScrollOffset();\r\n    };\r\n    /**\r\n     * @param {Object[]} data - specifies the data\r\n     * @param {NotifyArgs} e - specifies the notifyargs\r\n     * @returns {Row<Column>[]} returns the row\r\n     * @hidden\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.generateRows = function (data, e) {\r\n        if (!this.firstPageRecords) {\r\n            this.firstPageRecords = data;\r\n        }\r\n        return generateRows(this.virtualRenderer, data, e, this.freezeRowGenerator, this.parent);\r\n    };\r\n    /**\r\n     * @param {number} index - specifies the number\r\n     * @returns {Element} returns the element\r\n     * @hidden\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.getRowByIndex = function (index) {\r\n        return this.virtualRenderer.getRowByIndex(index);\r\n    };\r\n    /**\r\n     * @param {number} index - specifies the index\r\n     * @returns {Element} - returns the element\r\n     * @hidden\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.getFrozenRightRowByIndex = function (index) {\r\n        return this.virtualRenderer.getFrozenRightVirtualRowByIndex(index);\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.collectRows = function (tableName) {\r\n        return collectRows(tableName, this.virtualRenderer, this.parent);\r\n    };\r\n    /**\r\n     * @param {number} index - specifies the index\r\n     * @returns {Element} returns the element\r\n     * @hidden\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.getMovableRowByIndex = function (index) {\r\n        return this.virtualRenderer.getMovableVirtualRowByIndex(index);\r\n    };\r\n    /**\r\n     * @returns {Row<Column>[]} returns the row\r\n     * @hidden\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.getFrozenRightRows = function () {\r\n        return this.collectRows('frozen-right');\r\n    };\r\n    /**\r\n     * @returns {Row<Column>[]} returns the row\r\n     * @hidden\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.getMovableRows = function () {\r\n        return this.collectRows('movable');\r\n    };\r\n    /**\r\n     * @returns {Element} returns the element\r\n     * @hidden\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.getColGroup = function () {\r\n        var mCol = this.parent.getMovableVirtualContent();\r\n        return isXaxis(this.virtualRenderer) ? mCol.querySelector(literals.colGroup) : this.colgroup;\r\n    };\r\n    /**\r\n     * @returns {Row<Column>[]} returns the row\r\n     * @hidden\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.getRows = function () {\r\n        return this.collectRows(this.parent.getFrozenMode() === 'Right' ? 'frozen-right' : 'frozen-left');\r\n    };\r\n    /**\r\n     * @param {NotifyArgs} args - specifies the args\r\n     * @returns {Row<Column>[]} returns the row object\r\n     * @hidden\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.getReorderedFrozenRows = function (args) {\r\n        return getReorderedFrozenRows(args, this.virtualRenderer, this.parent, this.freezeRowGenerator, this.firstPageRecords);\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.getHeaderCells = function () {\r\n        return getHeaderCells(this.virtualRenderer, this.parent);\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.isXaxis = function () {\r\n        return isXaxis(this.virtualRenderer);\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.getVirtualFreezeHeader = function () {\r\n        return getVirtualFreezeHeader(this.virtualRenderer, this.parent);\r\n    };\r\n    /**\r\n     * @param {number} index - specifies the index\r\n     * @returns {object} - returns the object\r\n     * @hidden\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.getRowObjectByIndex = function (index) {\r\n        return this.virtualRenderer.getRowObjectByIndex(index);\r\n    };\r\n    ColumnVirtualFreezeRenderer.prototype.ensureFrozenCols = function (columns) {\r\n        return ensureFrozenCols(columns, this.parent);\r\n    };\r\n    /**\r\n     * Set the header colgroup element\r\n     *\r\n     * @param {Element} colGroup - specifies the colgroup\r\n     * @returns {Element} - returns the element\r\n     */\r\n    ColumnVirtualFreezeRenderer.prototype.setColGroup = function (colGroup) {\r\n        return setColGroup(colGroup, this.virtualRenderer, this);\r\n    };\r\n    return ColumnVirtualFreezeRenderer;\r\n}(ColumnFreezeContentRenderer));\r\nexport { ColumnVirtualFreezeRenderer };\r\n"]},"metadata":{},"sourceType":"module"}