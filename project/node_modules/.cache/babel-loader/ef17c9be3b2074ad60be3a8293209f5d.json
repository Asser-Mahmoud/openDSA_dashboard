{"ast":null,"code":"import { PdfPage } from './pdf-page';\nimport { PageAddedEventArgs } from './page-added-event-arguments';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { SaveSectionEventHandler } from './../primitives/pdf-dictionary';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { PdfSectionCollection } from './pdf-section-collection';\nimport { PdfSectionPageCollection } from './pdf-section-page-collection';\nimport { RectangleF } from './../drawing/pdf-drawing';\nimport { PdfSectionTemplate } from './pdf-section-templates';\n/**\r\n * Represents a `section` entity. A section it's a set of the pages with similar page settings.\r\n */\n\nvar PdfSection =\n/** @class */\nfunction () {\n  function PdfSection(document, pageSettings) {\n    //Fields\n    //public PageAdded() : PageAddedEventArgs.PageAddedEventHandler = new PageAddedEventArgs.PageAddedEventHandler(Object,args)\n\n    /**\r\n     * @hidden\r\n     * @private\r\n     */\n    this.pageAdded = new PageAddedEventArgs();\n    /**\r\n     * @hidden\r\n     * @private\r\n     */\n\n    this.pdfPages = [];\n    /**\r\n     * @hidden\r\n     * @private\r\n     */\n\n    this.dictionaryProperties = new DictionaryProperties();\n    this.pdfDocument = document;\n\n    if (typeof pageSettings === 'undefined') {\n      this.settings = document.pageSettings.clone();\n      this.initialSettings = this.settings.clone();\n    } else {\n      this.settings = pageSettings.clone();\n      this.initialSettings = this.settings.clone();\n    }\n\n    this.initialize();\n  }\n\n  Object.defineProperty(PdfSection.prototype, \"parent\", {\n    //Property\n\n    /**\r\n     * Gets or sets the `parent`.\r\n     * @private\r\n     */\n    get: function () {\n      return this.sectionCollection;\n    },\n    set: function (value) {\n      this.sectionCollection = value;\n      this.section.items.setValue(this.dictionaryProperties.parent, new PdfReferenceHolder(value));\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"parentDocument\", {\n    /**\r\n     * Gets the `parent document`.\r\n     * @private\r\n     */\n    get: function () {\n      return this.pdfDocument;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"pageSettings\", {\n    /**\r\n     * Gets or sets the `page settings` of the section.\r\n     * @private\r\n     */\n    get: function () {\n      return this.settings;\n    },\n    set: function (value) {\n      if (value != null) {\n        this.settings = value;\n      } else {\n        throw Error('Value can not be null.');\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"element\", {\n    /**\r\n     * Gets the wrapped `element`.\r\n     * @private\r\n     */\n    get: function () {\n      return this.section;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"count\", {\n    /**\r\n     * Gets the `count` of the pages in the section.\r\n     * @private\r\n     */\n    get: function () {\n      return this.pagesReferences.count;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"template\", {\n    /**\r\n     * Gets or sets a `template` for the pages in the section.\r\n     * @private\r\n     */\n    get: function () {\n      if (this.pageTemplate == null) {\n        this.pageTemplate = new PdfSectionTemplate();\n      }\n\n      return this.pageTemplate;\n    },\n    set: function (value) {\n      this.pageTemplate = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"document\", {\n    /**\r\n     * Gets the `document`.\r\n     * @private\r\n     */\n    get: function () {\n      return this.sectionCollection.document;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"pages\", {\n    /**\r\n     * Gets the collection of `pages` in a section (Read only)\r\n     * @private\r\n     */\n    get: function () {\n      if (this.pagesCollection == null || typeof this.pagesCollection === 'undefined') {\n        this.pagesCollection = new PdfSectionPageCollection(this);\n      }\n\n      return this.pagesCollection;\n    },\n    enumerable: true,\n    configurable: true\n  }); //methods\n\n  /**\r\n   * `Return the page collection` of current section.\r\n   * @private\r\n   */\n\n  PdfSection.prototype.getPages = function () {\n    return this.pdfPages;\n  };\n  /**\r\n   * `Translates` point into native coordinates of the page.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.pointToNativePdf = function (page, point) {\n    var bounds = this.getActualBounds(page, true);\n    point.x += bounds.x;\n    point.y = this.pageSettings.height - point.y;\n    return point;\n  };\n  /**\r\n   * Sets the page setting of the current section.\r\n   * @public\r\n   * @param settings Instance of `PdfPageSettings`\r\n   */\n\n\n  PdfSection.prototype.setPageSettings = function (settings) {\n    this.settings = settings;\n    this.state.orientation = settings.orientation;\n    this.state.rotate = settings.rotate;\n    this.state.size = settings.size;\n    this.state.origin = settings.origin;\n  };\n  /**\r\n   * `Initializes` the object.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.initialize = function () {\n    this.pagesReferences = new PdfArray();\n    this.section = new PdfDictionary();\n    this.state = new PageSettingsState(this.pdfDocument);\n    this.section.sectionBeginSave = new SaveSectionEventHandler(this, this.state);\n    this.pageCount = new PdfNumber(0);\n    this.section.items.setValue(this.dictionaryProperties.count, this.pageCount);\n    this.section.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.pages));\n    this.section.items.setValue(this.dictionaryProperties.kids, this.pagesReferences);\n  };\n  /**\r\n   * Checks whether any template should be printed on this layer.\r\n   * @private\r\n   * @param document The parent document.\r\n   * @param page The parent page.\r\n   * @param foreground Layer z-order.\r\n   * @returns True - if some content should be printed on the layer, False otherwise.\r\n   */\n\n\n  PdfSection.prototype.containsTemplates = function (document, page, foreground) {\n    var documentHeaders = this.getDocumentTemplates(document, page, foreground);\n    var sectionTemplates = this.getSectionTemplates(page, foreground);\n    return documentHeaders.length > 0 || sectionTemplates.length > 0;\n  };\n  /**\r\n   * Returns array of the document templates.\r\n   * @private\r\n   * @param document The parent document.\r\n   * @param page The parent page.\r\n   * @param headers If true - return headers/footers, if false - return simple templates.\r\n   * @param foreground If true - return foreground templates, if false - return background templates.\r\n   * @returns Returns array of the document templates.\r\n   */\n\n  /* tslint:disable */\n\n\n  PdfSection.prototype.getDocumentTemplates = function (document, page, foreground) {\n    var templates = [];\n\n    if (this.template.applyDocumentTopTemplate && document.template.getTop(page) != null) {\n      if (!(document.template.getTop(page).foreground || foreground) || document.template.getTop(page).foreground && foreground) {\n        templates.push(document.template.getTop(page));\n      }\n    }\n\n    if (this.template.applyDocumentBottomTemplate && document.template.getBottom(page) != null) {\n      if (!(document.template.getBottom(page).foreground || foreground) || document.template.getBottom(page).foreground && foreground) {\n        templates.push(document.template.getBottom(page));\n      }\n    }\n\n    if (this.template.applyDocumentLeftTemplate && document.template.getLeft(page) != null) {\n      if (!(document.template.getLeft(page).foreground || foreground) || document.template.getLeft(page).foreground && foreground) {\n        templates.push(document.template.getLeft(page));\n      }\n    }\n\n    if (this.template.applyDocumentRightTemplate && document.template.getRight(page) != null) {\n      if (!(document.template.getRight(page).foreground || foreground) || document.template.getRight(page).foreground && foreground) {\n        templates.push(document.template.getRight(page));\n      }\n    }\n\n    return templates;\n  };\n  /**\r\n   * Returns array of the section templates.\r\n   * @private\r\n   * @param page The parent page.\r\n   * @param foreground If true - return foreground templates, if false - return background templates.\r\n   * @returns Returns array of the section templates.\r\n   */\n\n  /* tslint:disable */\n\n\n  PdfSection.prototype.getSectionTemplates = function (page, foreground) {\n    var templates = [];\n\n    if (this.template.getTop(page) != null) {\n      var pageTemplate = this.template.getTop(page);\n\n      if (!(pageTemplate.foreground || foreground) || pageTemplate.foreground && foreground) {\n        templates.push(pageTemplate);\n      }\n    }\n\n    if (this.template.getBottom(page) != null) {\n      var pageTemplate = this.template.getBottom(page);\n\n      if (!(pageTemplate.foreground || foreground) || pageTemplate.foreground && foreground) {\n        templates.push(pageTemplate);\n      }\n    }\n\n    if (this.template.getLeft(page) != null) {\n      var pageTemplate = this.template.getLeft(page);\n\n      if (!(pageTemplate.foreground || foreground) || pageTemplate.foreground && foreground) {\n        templates.push(pageTemplate);\n      }\n    }\n\n    if (this.template.getRight(page) != null) {\n      var pageTemplate = this.template.getRight(page);\n\n      if (!(pageTemplate.foreground || foreground) || pageTemplate.foreground && foreground) {\n        templates.push(pageTemplate);\n      }\n    }\n\n    return templates;\n  };\n  /* tslint:enable */\n\n  /**\r\n   * `Adds` the specified page.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.add = function (page) {\n    if (typeof page === 'undefined') {\n      var page_1 = new PdfPage();\n      this.add(page_1);\n      return page_1;\n    } else {\n      var r = this.checkPresence(page);\n      this.pdfPages.push(page);\n      this.pagesReferences.add(r);\n      page.setSection(this);\n      page.resetProgress();\n      this.pageAddedMethod(page);\n    }\n  };\n  /**\r\n   * `Checks the presence`.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.checkPresence = function (page) {\n    var rh = new PdfReferenceHolder(page);\n    var contains = false;\n    var sc = this.parent;\n\n    for (var index = 0; index < sc.section.length; index++) {\n      var section = sc.section[index];\n      contains = contains || section.contains(page);\n    }\n\n    return rh;\n  };\n  /**\r\n   * `Determines` whether the page in within the section.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.contains = function (page) {\n    var index = this.indexOf(page);\n    return 0 <= index;\n  };\n  /**\r\n   * Get the `index of` the page.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.indexOf = function (page) {\n    for (var index = 0; index < this.pdfPages.length; index++) {\n      if (this.pdfPages[index] === page) {\n        return this.pdfPages.indexOf(page);\n      }\n    }\n\n    var r = new PdfReferenceHolder(page);\n    return this.pagesReferences.indexOf(r);\n  };\n  /**\r\n   * Call two event's methods.\r\n   * @hidden\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.pageAddedMethod = function (page) {\n    //Create event's arguments\n    var args = new PageAddedEventArgs(page);\n    this.onPageAdded(args);\n    var parent = this.parent;\n    parent.document.pages.onPageAdded(args);\n    this.pageCount.intValue = this.count;\n  };\n  /**\r\n   * Called when the page has been added.\r\n   * @hidden\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.onPageAdded = function (args) {//\n  };\n\n  PdfSection.prototype.getActualBounds = function (arg1, arg2, arg3) {\n    if (arg1 instanceof PdfPage && typeof arg2 === 'boolean') {\n      var result = void 0;\n      var document_1 = this.parent.document;\n      result = this.getActualBounds(document_1, arg1, arg2);\n      return result;\n    } else {\n      arg1 = arg1;\n      arg2 = arg2;\n      arg3 = arg3;\n      var bounds = new RectangleF(0, 0, 0, 0);\n      bounds.height = arg3 ? this.pageSettings.size.height : this.pageSettings.getActualSize().height;\n      bounds.width = arg3 ? this.pageSettings.size.width : this.pageSettings.getActualSize().width;\n      var left = this.getLeftIndentWidth(arg1, arg2, arg3);\n      var top_1 = this.getTopIndentHeight(arg1, arg2, arg3);\n      var right = this.getRightIndentWidth(arg1, arg2, arg3);\n      var bottom = this.getBottomIndentHeight(arg1, arg2, arg3);\n      bounds.x += left;\n      bounds.y += top_1;\n      bounds.width -= left + right;\n      bounds.height -= top_1 + bottom;\n      return bounds;\n    }\n  };\n  /**\r\n   * Calculates width of the `left indent`.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.getLeftIndentWidth = function (document, page, includeMargins) {\n    if (document == null) {\n      throw new Error('ArgumentNullException:document');\n    }\n\n    if (page == null) {\n      throw new Error('ArgumentNullException:page');\n    }\n\n    var value = includeMargins ? this.pageSettings.margins.left : 0;\n    var templateWidth = this.template.getLeft(page) != null ? this.template.getLeft(page).width : 0;\n    var docTemplateWidth = document.template.getLeft(page) != null ? document.template.getLeft(page).width : 0;\n    value += this.template.applyDocumentLeftTemplate ? Math.max(templateWidth, docTemplateWidth) : templateWidth;\n    return value;\n  };\n  /**\r\n   * Calculates `Height` of the top indent.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.getTopIndentHeight = function (document, page, includeMargins) {\n    if (document == null) {\n      throw new Error('ArgumentNullException:document');\n    }\n\n    if (page == null) {\n      throw new Error('ArgumentNullException:page');\n    }\n\n    var value = includeMargins ? this.pageSettings.margins.top : 0;\n    var templateHeight = this.template.getTop(page) != null ? this.template.getTop(page).height : 0;\n    var docTemplateHeight = document.template.getTop(page) != null ? document.template.getTop(page).height : 0;\n    value += this.template.applyDocumentTopTemplate ? Math.max(templateHeight, docTemplateHeight) : templateHeight;\n    return value;\n  };\n  /**\r\n   * Calculates `width` of the right indent.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.getRightIndentWidth = function (document, page, includeMargins) {\n    if (document == null) {\n      throw new Error('ArgumentNullException:document');\n    }\n\n    if (page == null) {\n      throw new Error('ArgumentNullException:page');\n    }\n\n    var value = includeMargins ? this.pageSettings.margins.right : 0;\n    var templateWidth = this.template.getRight(page) != null ? this.template.getRight(page).width : 0;\n    var docTemplateWidth = document.template.getRight(page) != null ? document.template.getRight(page).width : 0;\n    value += this.template.applyDocumentRightTemplate ? Math.max(templateWidth, docTemplateWidth) : templateWidth;\n    return value;\n  };\n  /**\r\n   * Calculates `Height` of the bottom indent.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.getBottomIndentHeight = function (document, page, includeMargins) {\n    if (document == null) {\n      throw new Error('ArgumentNullException:document');\n    }\n\n    if (page == null) {\n      throw new Error('ArgumentNullException:page');\n    }\n\n    var value = includeMargins ? this.pageSettings.margins.bottom : 0;\n    var templateHeight = this.template.getBottom(page) != null ? this.template.getBottom(page).height : 0;\n    var docTemplateHeight = document.template.getBottom(page) != null ? document.template.getBottom(page).height : 0;\n    value += this.template.applyDocumentBottomTemplate ? Math.max(templateHeight, docTemplateHeight) : templateHeight;\n    return value;\n  };\n  /**\r\n   * `Removes` the page from the section.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.remove = function (page) {\n    if (page == null) {\n      throw Error('ArgumentNullException(\"page\")');\n    }\n\n    var index = this.pdfPages.indexOf(page);\n    this.pagesReferences.removeAt(index);\n    var temproaryPages = [];\n\n    for (var j = 0; j < index; j++) {\n      temproaryPages.push(this.pdfPages[j]);\n    }\n\n    for (var j = index + 1; j < this.pdfPages.length; j++) {\n      temproaryPages.push(this.pdfPages[j]);\n    }\n\n    this.pdfPages = temproaryPages;\n  };\n  /**\r\n   * In fills dictionary by the data from `Page settings`.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.applyPageSettings = function (container, parentSettings, state) {\n    var bounds = new RectangleF(state.origin, state.size);\n    container.items.setValue(this.dictionaryProperties.mediaBox, PdfArray.fromRectangle(bounds));\n    var rotate = 0;\n    rotate = PdfSectionCollection.rotateFactor * state.rotate;\n    var angle = new PdfNumber(rotate);\n    container.items.setValue(this.dictionaryProperties.rotate, angle);\n  };\n  /**\r\n   * Catches the Save event of the dictionary.\r\n   * @hidden\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.beginSave = function (state, writer) {\n    var doc = writer.document;\n    this.applyPageSettings(this.section, doc.pageSettings, state);\n  };\n  /**\r\n   * Draws page templates on the page.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.drawTemplates = function (page, layer, document, foreground) {\n    var documentHeaders = this.getDocumentTemplates(document, page, foreground);\n    var sectionHeaders = this.getSectionTemplates(page, foreground);\n    this.drawTemplatesHelper(layer, document, documentHeaders);\n    this.drawTemplatesHelper(layer, document, sectionHeaders);\n  };\n  /**\r\n   * Draws page templates on the page.\r\n   * @private\r\n   */\n\n\n  PdfSection.prototype.drawTemplatesHelper = function (layer, document, templates) {\n    if (templates != null && templates.length > 0) {\n      var len = templates.length;\n\n      for (var i = 0; i < len; i++) {\n        var template = templates[i];\n        template.draw(layer, document);\n      }\n    }\n  };\n\n  return PdfSection;\n}();\n\nexport { PdfSection };\n\nvar PageSettingsState =\n/** @class */\nfunction () {\n  //Public Constructor\n\n  /**\r\n   * New instance to store the `PageSettings`.\r\n   * @private\r\n   */\n  function PageSettingsState(document) {\n    this.pageOrientation = document.pageSettings.orientation;\n    this.pageRotate = document.pageSettings.rotate;\n    this.pageSize = document.pageSettings.size;\n    this.pageOrigin = document.pageSettings.origin;\n  }\n\n  Object.defineProperty(PageSettingsState.prototype, \"orientation\", {\n    //public Properties\n\n    /**\r\n     * @hidden\r\n     * @private\r\n     */\n    get: function () {\n      return this.pageOrientation;\n    },\n    set: function (value) {\n      this.pageOrientation = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PageSettingsState.prototype, \"rotate\", {\n    /**\r\n     * @hidden\r\n     * @private\r\n     */\n    get: function () {\n      return this.pageRotate;\n    },\n    set: function (value) {\n      this.pageRotate = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PageSettingsState.prototype, \"size\", {\n    /**\r\n     * @hidden\r\n     * @private\r\n     */\n    get: function () {\n      return this.pageSize;\n    },\n    set: function (value) {\n      this.pageSize = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PageSettingsState.prototype, \"origin\", {\n    /**\r\n     * @hidden\r\n     * @private\r\n     */\n    get: function () {\n      return this.pageOrigin;\n    },\n    set: function (value) {\n      this.pageOrigin = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return PageSettingsState;\n}();\n\nexport { PageSettingsState };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-pdf-export/src/implementation/pages/pdf-section.js"],"names":["PdfPage","PageAddedEventArgs","PdfReferenceHolder","PdfArray","PdfNumber","PdfName","PdfDictionary","SaveSectionEventHandler","DictionaryProperties","PdfSectionCollection","PdfSectionPageCollection","RectangleF","PdfSectionTemplate","PdfSection","document","pageSettings","pageAdded","pdfPages","dictionaryProperties","pdfDocument","settings","clone","initialSettings","initialize","Object","defineProperty","prototype","get","sectionCollection","set","value","section","items","setValue","parent","enumerable","configurable","Error","pagesReferences","count","pageTemplate","pagesCollection","getPages","pointToNativePdf","page","point","bounds","getActualBounds","x","y","height","setPageSettings","state","orientation","rotate","size","origin","PageSettingsState","sectionBeginSave","pageCount","type","pages","kids","containsTemplates","foreground","documentHeaders","getDocumentTemplates","sectionTemplates","getSectionTemplates","length","templates","template","applyDocumentTopTemplate","getTop","push","applyDocumentBottomTemplate","getBottom","applyDocumentLeftTemplate","getLeft","applyDocumentRightTemplate","getRight","add","page_1","r","checkPresence","setSection","resetProgress","pageAddedMethod","rh","contains","sc","index","indexOf","args","onPageAdded","intValue","arg1","arg2","arg3","result","document_1","getActualSize","width","left","getLeftIndentWidth","top_1","getTopIndentHeight","right","getRightIndentWidth","bottom","getBottomIndentHeight","includeMargins","margins","templateWidth","docTemplateWidth","Math","max","top","templateHeight","docTemplateHeight","remove","removeAt","temproaryPages","j","applyPageSettings","container","parentSettings","mediaBox","fromRectangle","rotateFactor","angle","beginSave","writer","doc","drawTemplates","layer","sectionHeaders","drawTemplatesHelper","len","i","draw","pageOrientation","pageRotate","pageSize","pageOrigin"],"mappings":"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","sourcesContent":["import { PdfPage } from './pdf-page';\r\nimport { PageAddedEventArgs } from './page-added-event-arguments';\r\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\r\nimport { PdfArray } from './../primitives/pdf-array';\r\nimport { PdfNumber } from './../primitives/pdf-number';\r\nimport { PdfName } from './../primitives/pdf-name';\r\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\r\nimport { SaveSectionEventHandler } from './../primitives/pdf-dictionary';\r\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\r\nimport { PdfSectionCollection } from './pdf-section-collection';\r\nimport { PdfSectionPageCollection } from './pdf-section-page-collection';\r\nimport { RectangleF } from './../drawing/pdf-drawing';\r\nimport { PdfSectionTemplate } from './pdf-section-templates';\r\n/**\r\n * Represents a `section` entity. A section it's a set of the pages with similar page settings.\r\n */\r\nvar PdfSection = /** @class */ (function () {\r\n    function PdfSection(document, pageSettings) {\r\n        //Fields\r\n        //public PageAdded() : PageAddedEventArgs.PageAddedEventHandler = new PageAddedEventArgs.PageAddedEventHandler(Object,args)\r\n        /**\r\n         * @hidden\r\n         * @private\r\n         */\r\n        this.pageAdded = new PageAddedEventArgs();\r\n        /**\r\n         * @hidden\r\n         * @private\r\n         */\r\n        this.pdfPages = [];\r\n        /**\r\n         * @hidden\r\n         * @private\r\n         */\r\n        this.dictionaryProperties = new DictionaryProperties();\r\n        this.pdfDocument = document;\r\n        if (typeof pageSettings === 'undefined') {\r\n            this.settings = document.pageSettings.clone();\r\n            this.initialSettings = this.settings.clone();\r\n        }\r\n        else {\r\n            this.settings = pageSettings.clone();\r\n            this.initialSettings = this.settings.clone();\r\n        }\r\n        this.initialize();\r\n    }\r\n    Object.defineProperty(PdfSection.prototype, \"parent\", {\r\n        //Property\r\n        /**\r\n         * Gets or sets the `parent`.\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.sectionCollection;\r\n        },\r\n        set: function (value) {\r\n            this.sectionCollection = value;\r\n            this.section.items.setValue(this.dictionaryProperties.parent, new PdfReferenceHolder(value));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfSection.prototype, \"parentDocument\", {\r\n        /**\r\n         * Gets the `parent document`.\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.pdfDocument;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfSection.prototype, \"pageSettings\", {\r\n        /**\r\n         * Gets or sets the `page settings` of the section.\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.settings;\r\n        },\r\n        set: function (value) {\r\n            if (value != null) {\r\n                this.settings = value;\r\n            }\r\n            else {\r\n                throw Error('Value can not be null.');\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfSection.prototype, \"element\", {\r\n        /**\r\n         * Gets the wrapped `element`.\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.section;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfSection.prototype, \"count\", {\r\n        /**\r\n         * Gets the `count` of the pages in the section.\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.pagesReferences.count;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfSection.prototype, \"template\", {\r\n        /**\r\n         * Gets or sets a `template` for the pages in the section.\r\n         * @private\r\n         */\r\n        get: function () {\r\n            if (this.pageTemplate == null) {\r\n                this.pageTemplate = new PdfSectionTemplate();\r\n            }\r\n            return this.pageTemplate;\r\n        },\r\n        set: function (value) {\r\n            this.pageTemplate = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfSection.prototype, \"document\", {\r\n        /**\r\n         * Gets the `document`.\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.sectionCollection.document;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfSection.prototype, \"pages\", {\r\n        /**\r\n         * Gets the collection of `pages` in a section (Read only)\r\n         * @private\r\n         */\r\n        get: function () {\r\n            if (this.pagesCollection == null || typeof this.pagesCollection === 'undefined') {\r\n                this.pagesCollection = new PdfSectionPageCollection(this);\r\n            }\r\n            return this.pagesCollection;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    //methods\r\n    /**\r\n     * `Return the page collection` of current section.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.getPages = function () {\r\n        return this.pdfPages;\r\n    };\r\n    /**\r\n     * `Translates` point into native coordinates of the page.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.pointToNativePdf = function (page, point) {\r\n        var bounds = this.getActualBounds(page, true);\r\n        point.x += bounds.x;\r\n        point.y = this.pageSettings.height - (point.y);\r\n        return point;\r\n    };\r\n    /**\r\n     * Sets the page setting of the current section.\r\n     * @public\r\n     * @param settings Instance of `PdfPageSettings`\r\n     */\r\n    PdfSection.prototype.setPageSettings = function (settings) {\r\n        this.settings = settings;\r\n        this.state.orientation = settings.orientation;\r\n        this.state.rotate = settings.rotate;\r\n        this.state.size = settings.size;\r\n        this.state.origin = settings.origin;\r\n    };\r\n    /**\r\n     * `Initializes` the object.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.initialize = function () {\r\n        this.pagesReferences = new PdfArray();\r\n        this.section = new PdfDictionary();\r\n        this.state = new PageSettingsState(this.pdfDocument);\r\n        this.section.sectionBeginSave = new SaveSectionEventHandler(this, this.state);\r\n        this.pageCount = new PdfNumber(0);\r\n        this.section.items.setValue(this.dictionaryProperties.count, this.pageCount);\r\n        this.section.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.pages));\r\n        this.section.items.setValue(this.dictionaryProperties.kids, this.pagesReferences);\r\n    };\r\n    /**\r\n     * Checks whether any template should be printed on this layer.\r\n     * @private\r\n     * @param document The parent document.\r\n     * @param page The parent page.\r\n     * @param foreground Layer z-order.\r\n     * @returns True - if some content should be printed on the layer, False otherwise.\r\n     */\r\n    PdfSection.prototype.containsTemplates = function (document, page, foreground) {\r\n        var documentHeaders = this.getDocumentTemplates(document, page, foreground);\r\n        var sectionTemplates = this.getSectionTemplates(page, foreground);\r\n        return (documentHeaders.length > 0 || sectionTemplates.length > 0);\r\n    };\r\n    /**\r\n     * Returns array of the document templates.\r\n     * @private\r\n     * @param document The parent document.\r\n     * @param page The parent page.\r\n     * @param headers If true - return headers/footers, if false - return simple templates.\r\n     * @param foreground If true - return foreground templates, if false - return background templates.\r\n     * @returns Returns array of the document templates.\r\n     */\r\n    /* tslint:disable */\r\n    PdfSection.prototype.getDocumentTemplates = function (document, page, foreground) {\r\n        var templates = [];\r\n        if (this.template.applyDocumentTopTemplate && document.template.getTop(page) != null) {\r\n            if ((!(document.template.getTop(page).foreground || foreground)) || (document.template.getTop(page).foreground && foreground)) {\r\n                templates.push(document.template.getTop(page));\r\n            }\r\n        }\r\n        if (this.template.applyDocumentBottomTemplate && document.template.getBottom(page) != null) {\r\n            if ((!(document.template.getBottom(page).foreground || foreground)) || (document.template.getBottom(page).foreground && foreground)) {\r\n                templates.push(document.template.getBottom(page));\r\n            }\r\n        }\r\n        if (this.template.applyDocumentLeftTemplate && document.template.getLeft(page) != null) {\r\n            if ((!(document.template.getLeft(page).foreground || foreground)) || (document.template.getLeft(page).foreground && foreground)) {\r\n                templates.push(document.template.getLeft(page));\r\n            }\r\n        }\r\n        if (this.template.applyDocumentRightTemplate && document.template.getRight(page) != null) {\r\n            if ((!(document.template.getRight(page).foreground || foreground)) || (document.template.getRight(page).foreground && foreground)) {\r\n                templates.push(document.template.getRight(page));\r\n            }\r\n        }\r\n        return templates;\r\n    };\r\n    /**\r\n     * Returns array of the section templates.\r\n     * @private\r\n     * @param page The parent page.\r\n     * @param foreground If true - return foreground templates, if false - return background templates.\r\n     * @returns Returns array of the section templates.\r\n     */\r\n    /* tslint:disable */\r\n    PdfSection.prototype.getSectionTemplates = function (page, foreground) {\r\n        var templates = [];\r\n        if (this.template.getTop(page) != null) {\r\n            var pageTemplate = this.template.getTop(page);\r\n            if ((!(pageTemplate.foreground || foreground)) || (pageTemplate.foreground && foreground)) {\r\n                templates.push(pageTemplate);\r\n            }\r\n        }\r\n        if (this.template.getBottom(page) != null) {\r\n            var pageTemplate = this.template.getBottom(page);\r\n            if ((!(pageTemplate.foreground || foreground)) || (pageTemplate.foreground && foreground)) {\r\n                templates.push(pageTemplate);\r\n            }\r\n        }\r\n        if (this.template.getLeft(page) != null) {\r\n            var pageTemplate = this.template.getLeft(page);\r\n            if ((!(pageTemplate.foreground || foreground)) || (pageTemplate.foreground && foreground)) {\r\n                templates.push(pageTemplate);\r\n            }\r\n        }\r\n        if (this.template.getRight(page) != null) {\r\n            var pageTemplate = this.template.getRight(page);\r\n            if ((!(pageTemplate.foreground || foreground)) || (pageTemplate.foreground && foreground)) {\r\n                templates.push(pageTemplate);\r\n            }\r\n        }\r\n        return templates;\r\n    };\r\n    /* tslint:enable */\r\n    /**\r\n     * `Adds` the specified page.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.add = function (page) {\r\n        if (typeof page === 'undefined') {\r\n            var page_1 = new PdfPage();\r\n            this.add(page_1);\r\n            return page_1;\r\n        }\r\n        else {\r\n            var r = this.checkPresence(page);\r\n            this.pdfPages.push(page);\r\n            this.pagesReferences.add(r);\r\n            page.setSection(this);\r\n            page.resetProgress();\r\n            this.pageAddedMethod(page);\r\n        }\r\n    };\r\n    /**\r\n     * `Checks the presence`.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.checkPresence = function (page) {\r\n        var rh = new PdfReferenceHolder(page);\r\n        var contains = false;\r\n        var sc = this.parent;\r\n        for (var index = 0; index < sc.section.length; index++) {\r\n            var section = sc.section[index];\r\n            contains = contains || section.contains(page);\r\n        }\r\n        return rh;\r\n    };\r\n    /**\r\n     * `Determines` whether the page in within the section.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.contains = function (page) {\r\n        var index = this.indexOf(page);\r\n        return (0 <= index);\r\n    };\r\n    /**\r\n     * Get the `index of` the page.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.indexOf = function (page) {\r\n        for (var index = 0; index < this.pdfPages.length; index++) {\r\n            if (this.pdfPages[index] === page) {\r\n                return this.pdfPages.indexOf(page);\r\n            }\r\n        }\r\n        var r = new PdfReferenceHolder(page);\r\n        return this.pagesReferences.indexOf(r);\r\n    };\r\n    /**\r\n     * Call two event's methods.\r\n     * @hidden\r\n     * @private\r\n     */\r\n    PdfSection.prototype.pageAddedMethod = function (page) {\r\n        //Create event's arguments\r\n        var args = new PageAddedEventArgs(page);\r\n        this.onPageAdded(args);\r\n        var parent = this.parent;\r\n        parent.document.pages.onPageAdded(args);\r\n        this.pageCount.intValue = this.count;\r\n    };\r\n    /**\r\n     * Called when the page has been added.\r\n     * @hidden\r\n     * @private\r\n     */\r\n    PdfSection.prototype.onPageAdded = function (args) {\r\n        //\r\n    };\r\n    PdfSection.prototype.getActualBounds = function (arg1, arg2, arg3) {\r\n        if (arg1 instanceof PdfPage && typeof arg2 === 'boolean') {\r\n            var result = void 0;\r\n            var document_1 = this.parent.document;\r\n            result = this.getActualBounds(document_1, arg1, arg2);\r\n            return result;\r\n        }\r\n        else {\r\n            arg1 = arg1;\r\n            arg2 = arg2;\r\n            arg3 = arg3;\r\n            var bounds = new RectangleF(0, 0, 0, 0);\r\n            bounds.height = (arg3) ? this.pageSettings.size.height : this.pageSettings.getActualSize().height;\r\n            bounds.width = (arg3) ? this.pageSettings.size.width : this.pageSettings.getActualSize().width;\r\n            var left = this.getLeftIndentWidth(arg1, arg2, arg3);\r\n            var top_1 = this.getTopIndentHeight(arg1, arg2, arg3);\r\n            var right = this.getRightIndentWidth(arg1, arg2, arg3);\r\n            var bottom = this.getBottomIndentHeight(arg1, arg2, arg3);\r\n            bounds.x += left;\r\n            bounds.y += top_1;\r\n            bounds.width -= (left + right);\r\n            bounds.height -= (top_1 + bottom);\r\n            return bounds;\r\n        }\r\n    };\r\n    /**\r\n     * Calculates width of the `left indent`.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.getLeftIndentWidth = function (document, page, includeMargins) {\r\n        if (document == null) {\r\n            throw new Error('ArgumentNullException:document');\r\n        }\r\n        if (page == null) {\r\n            throw new Error('ArgumentNullException:page');\r\n        }\r\n        var value = (includeMargins) ? this.pageSettings.margins.left : 0;\r\n        var templateWidth = (this.template.getLeft(page) != null) ? this.template.getLeft(page).width : 0;\r\n        var docTemplateWidth = (document.template.getLeft(page) != null) ? document.template.getLeft(page).width : 0;\r\n        value += (this.template.applyDocumentLeftTemplate) ? Math.max(templateWidth, docTemplateWidth) : templateWidth;\r\n        return value;\r\n    };\r\n    /**\r\n     * Calculates `Height` of the top indent.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.getTopIndentHeight = function (document, page, includeMargins) {\r\n        if (document == null) {\r\n            throw new Error('ArgumentNullException:document');\r\n        }\r\n        if (page == null) {\r\n            throw new Error('ArgumentNullException:page');\r\n        }\r\n        var value = (includeMargins) ? this.pageSettings.margins.top : 0;\r\n        var templateHeight = (this.template.getTop(page) != null) ? this.template.getTop(page).height : 0;\r\n        var docTemplateHeight = (document.template.getTop(page) != null) ? document.template.getTop(page).height : 0;\r\n        value += (this.template.applyDocumentTopTemplate) ? Math.max(templateHeight, docTemplateHeight) : templateHeight;\r\n        return value;\r\n    };\r\n    /**\r\n     * Calculates `width` of the right indent.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.getRightIndentWidth = function (document, page, includeMargins) {\r\n        if (document == null) {\r\n            throw new Error('ArgumentNullException:document');\r\n        }\r\n        if (page == null) {\r\n            throw new Error('ArgumentNullException:page');\r\n        }\r\n        var value = (includeMargins) ? this.pageSettings.margins.right : 0;\r\n        var templateWidth = (this.template.getRight(page) != null) ? this.template.getRight(page).width : 0;\r\n        var docTemplateWidth = (document.template.getRight(page) != null) ? document.template.getRight(page).width : 0;\r\n        value += (this.template.applyDocumentRightTemplate) ? Math.max(templateWidth, docTemplateWidth) : templateWidth;\r\n        return value;\r\n    };\r\n    /**\r\n     * Calculates `Height` of the bottom indent.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.getBottomIndentHeight = function (document, page, includeMargins) {\r\n        if (document == null) {\r\n            throw new Error('ArgumentNullException:document');\r\n        }\r\n        if (page == null) {\r\n            throw new Error('ArgumentNullException:page');\r\n        }\r\n        var value = (includeMargins) ? this.pageSettings.margins.bottom : 0;\r\n        var templateHeight = (this.template.getBottom(page) != null) ? this.template.getBottom(page).height : 0;\r\n        var docTemplateHeight = (document.template.getBottom(page) != null) ? document.template.getBottom(page).height : 0;\r\n        value += (this.template.applyDocumentBottomTemplate) ? Math.max(templateHeight, docTemplateHeight) : templateHeight;\r\n        return value;\r\n    };\r\n    /**\r\n     * `Removes` the page from the section.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.remove = function (page) {\r\n        if (page == null) {\r\n            throw Error('ArgumentNullException(\"page\")');\r\n        }\r\n        var index = this.pdfPages.indexOf(page);\r\n        this.pagesReferences.removeAt(index);\r\n        var temproaryPages = [];\r\n        for (var j = 0; j < index; j++) {\r\n            temproaryPages.push(this.pdfPages[j]);\r\n        }\r\n        for (var j = index + 1; j < this.pdfPages.length; j++) {\r\n            temproaryPages.push(this.pdfPages[j]);\r\n        }\r\n        this.pdfPages = temproaryPages;\r\n    };\r\n    /**\r\n     * In fills dictionary by the data from `Page settings`.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.applyPageSettings = function (container, parentSettings, state) {\r\n        var bounds = new RectangleF(state.origin, state.size);\r\n        container.items.setValue(this.dictionaryProperties.mediaBox, PdfArray.fromRectangle(bounds));\r\n        var rotate = 0;\r\n        rotate = PdfSectionCollection.rotateFactor * state.rotate;\r\n        var angle = new PdfNumber(rotate);\r\n        container.items.setValue(this.dictionaryProperties.rotate, angle);\r\n    };\r\n    /**\r\n     * Catches the Save event of the dictionary.\r\n     * @hidden\r\n     * @private\r\n     */\r\n    PdfSection.prototype.beginSave = function (state, writer) {\r\n        var doc = writer.document;\r\n        this.applyPageSettings(this.section, doc.pageSettings, state);\r\n    };\r\n    /**\r\n     * Draws page templates on the page.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.drawTemplates = function (page, layer, document, foreground) {\r\n        var documentHeaders = this.getDocumentTemplates(document, page, foreground);\r\n        var sectionHeaders = this.getSectionTemplates(page, foreground);\r\n        this.drawTemplatesHelper(layer, document, documentHeaders);\r\n        this.drawTemplatesHelper(layer, document, sectionHeaders);\r\n    };\r\n    /**\r\n     * Draws page templates on the page.\r\n     * @private\r\n     */\r\n    PdfSection.prototype.drawTemplatesHelper = function (layer, document, templates) {\r\n        if (templates != null && templates.length > 0) {\r\n            var len = templates.length;\r\n            for (var i = 0; i < len; i++) {\r\n                var template = templates[i];\r\n                template.draw(layer, document);\r\n            }\r\n        }\r\n    };\r\n    return PdfSection;\r\n}());\r\nexport { PdfSection };\r\nvar PageSettingsState = /** @class */ (function () {\r\n    //Public Constructor\r\n    /**\r\n     * New instance to store the `PageSettings`.\r\n     * @private\r\n     */\r\n    function PageSettingsState(document) {\r\n        this.pageOrientation = document.pageSettings.orientation;\r\n        this.pageRotate = document.pageSettings.rotate;\r\n        this.pageSize = document.pageSettings.size;\r\n        this.pageOrigin = document.pageSettings.origin;\r\n    }\r\n    Object.defineProperty(PageSettingsState.prototype, \"orientation\", {\r\n        //public Properties\r\n        /**\r\n         * @hidden\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.pageOrientation;\r\n        },\r\n        set: function (value) {\r\n            this.pageOrientation = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PageSettingsState.prototype, \"rotate\", {\r\n        /**\r\n         * @hidden\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.pageRotate;\r\n        },\r\n        set: function (value) {\r\n            this.pageRotate = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PageSettingsState.prototype, \"size\", {\r\n        /**\r\n         * @hidden\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.pageSize;\r\n        },\r\n        set: function (value) {\r\n            this.pageSize = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PageSettingsState.prototype, \"origin\", {\r\n        /**\r\n         * @hidden\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.pageOrigin;\r\n        },\r\n        set: function (value) {\r\n            this.pageOrigin = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PageSettingsState;\r\n}());\r\nexport { PageSettingsState };\r\n"]},"metadata":{},"sourceType":"module"}