{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\r\n * PdfResources.ts class for EJ2-PDF\r\n */\n\n\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { TemporaryDictionary } from './../collections/object-object-pair/dictionary';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfCrossTable } from './../input-output/pdf-cross-table';\nimport { PdfFont } from './fonts/pdf-font';\nimport { PdfTemplate } from './figures/pdf-template';\nimport { PdfBrush } from './brushes/pdf-brush';\nimport { PdfTransparency } from './pdf-transparency';\nimport { PdfBitmap } from './../graphics/images/pdf-bitmap';\nimport { PdfImage } from './../graphics/images/pdf-image';\nimport { PdfGradientBrush } from './brushes/pdf-gradient-brush';\nimport { PdfTilingBrush } from './brushes/pdf-tiling-brush';\n/**\r\n * `PdfResources` class used to set resource contents like font, image.\r\n * @private\r\n */\n\nvar PdfResources =\n/** @class */\nfunction (_super) {\n  __extends(PdfResources, _super);\n\n  function PdfResources(baseDictionary) {\n    var _this = _super.call(this, baseDictionary) || this;\n    /**\r\n     * Dictionary for the `properties names`.\r\n     * @private\r\n     */\n\n\n    _this.properties = new PdfDictionary();\n    return _this;\n  }\n\n  Object.defineProperty(PdfResources.prototype, \"names\", {\n    //Properties\n\n    /**\r\n     * Gets the `font names`.\r\n     * @private\r\n     */\n    get: function () {\n      return this.getNames();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfResources.prototype, \"document\", {\n    /**\r\n     * Get or set the `page document`.\r\n     * @private\r\n     */\n    get: function () {\n      return this.pdfDocument;\n    },\n    set: function (value) {\n      this.pdfDocument = value;\n    },\n    enumerable: true,\n    configurable: true\n  }); //Public Methods\n\n  /**\r\n   * `Generates name` for the object and adds to the resource if the object is new.\r\n   * @private\r\n   */\n\n  PdfResources.prototype.getName = function (obj) {\n    var primitive = obj.element;\n    var name = null;\n\n    if (this.names.containsKey(primitive)) {\n      name = this.names.getValue(primitive);\n    } // Object is new.\n\n\n    if (name == null) {\n      var sName = this.generateName();\n      name = new PdfName(sName);\n      this.names.setValue(primitive, name);\n\n      if (obj instanceof PdfFont) {\n        this.add(obj, name);\n      } else if (obj instanceof PdfTemplate) {\n        this.add(obj, name);\n      } else if (obj instanceof PdfGradientBrush || obj instanceof PdfTilingBrush) {\n        this.add(obj, name);\n      } else if (obj instanceof PdfTransparency) {\n        this.add(obj, name);\n      } else if (obj instanceof PdfImage || obj instanceof PdfBitmap) {\n        this.add(obj, name);\n      }\n    }\n\n    return name;\n  };\n  /**\r\n   * Gets `resource names` to font dictionaries.\r\n   * @private\r\n   */\n\n\n  PdfResources.prototype.getNames = function () {\n    if (this.pdfNames == null) {\n      this.pdfNames = new TemporaryDictionary();\n    }\n\n    var fonts = this.items.getValue(this.dictionaryProperties.font);\n\n    if (fonts != null) {\n      var reference = fonts;\n      var dictionary = fonts;\n      dictionary = PdfCrossTable.dereference(fonts);\n    }\n\n    return this.pdfNames;\n  };\n  /**\r\n   * Add `RequireProcedureSet` into procset array.\r\n   * @private\r\n   */\n\n\n  PdfResources.prototype.requireProcedureSet = function (procedureSetName) {\n    if (procedureSetName == null) {\n      throw new Error('ArgumentNullException:procedureSetName');\n    }\n\n    var procSets = this.items.getValue(this.dictionaryProperties.procset);\n\n    if (procSets == null) {\n      procSets = new PdfArray();\n      this.items.setValue(this.dictionaryProperties.procset, procSets);\n    }\n\n    var name = new PdfName(procedureSetName);\n\n    if (!procSets.contains(name)) {\n      procSets.add(name);\n    }\n  }; //Helper Methods\n\n  /**\r\n   * `Remove font` from array.\r\n   * @private\r\n   */\n\n\n  PdfResources.prototype.removeFont = function (name) {\n    var key = null;\n    var keys = this.pdfNames.keys();\n\n    for (var index = 0; index < this.pdfNames.size(); index++) {\n      if (this.pdfNames.getValue(keys[index]) === new PdfName(name)) {\n        key = keys[index];\n        break;\n      }\n    }\n\n    if (key != null) {\n      this.pdfNames.remove(key);\n    }\n  };\n  /**\r\n   * Generates `Unique string name`.\r\n   * @private\r\n   */\n\n\n  PdfResources.prototype.generateName = function () {\n    var name = Guid.getNewGuidString();\n    return name;\n  };\n\n  PdfResources.prototype.add = function (arg1, arg2) {\n    if (arg1 instanceof PdfFont) {\n      var dictionary = null;\n      var fonts = this.items.getValue(this.dictionaryProperties.font);\n\n      if (fonts != null) {\n        var reference = fonts;\n        dictionary = fonts;\n        dictionary = fonts;\n      } else {\n        dictionary = new PdfDictionary();\n        this.items.setValue(this.dictionaryProperties.font, dictionary);\n      }\n\n      dictionary.items.setValue(arg2.value, new PdfReferenceHolder(arg1.element));\n    } else if (arg1 instanceof PdfTemplate) {\n      var xobjects = void 0;\n      xobjects = this.items.getValue(this.dictionaryProperties.xObject); // Create fonts dictionary.\n\n      if (xobjects == null) {\n        xobjects = new PdfDictionary();\n        this.items.setValue(this.dictionaryProperties.xObject, xobjects);\n      }\n\n      xobjects.items.setValue(arg2.value, new PdfReferenceHolder(arg1.element));\n    } else if (arg1 instanceof PdfBrush) {\n      if (arg1 instanceof PdfGradientBrush || arg1 instanceof PdfTilingBrush) {\n        var savable = arg1.element;\n\n        if (savable != null) {\n          var pattern = this.items.getValue(this.dictionaryProperties.pattern); // Create a new pattern dictionary.\n\n          if (pattern == null) {\n            pattern = new PdfDictionary();\n            this.items.setValue(this.dictionaryProperties.pattern, pattern);\n          }\n\n          pattern.items.setValue(arg2.value, new PdfReferenceHolder(savable));\n        }\n      }\n    } else if (arg1 instanceof PdfTransparency) {\n      var savable = arg1.element;\n      var transDic = null;\n      transDic = this.items.getValue(this.dictionaryProperties.extGState); // Create a new pattern dictionary.\n\n      if (transDic == null) {\n        transDic = new PdfDictionary();\n        this.items.setValue(this.dictionaryProperties.extGState, transDic);\n      }\n\n      transDic.items.setValue(arg2.value, new PdfReferenceHolder(savable));\n    } else {\n      /* tslint:disable */\n      var xobjects = this.Dictionary.items.getValue(this.dictionaryProperties.xObject);\n      var parentXObjects = void 0;\n\n      if (typeof this.pdfDocument !== 'undefined') {\n        parentXObjects = this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject);\n      }\n\n      var values = this.Dictionary.items.values();\n      var hasSameImageStream = false;\n      var oldReference = void 0;\n\n      if (typeof this.pdfDocument !== 'undefined' && (typeof parentXObjects === undefined || parentXObjects == null)) {\n        parentXObjects = new PdfDictionary();\n        this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject, parentXObjects);\n      } else if (typeof this.pdfDocument !== 'undefined') {\n        var values_1 = parentXObjects.items.values();\n\n        for (var i = 0; i < values_1.length; i++) {\n          if (typeof values_1[i] !== 'undefined' && typeof values_1[i].element !== 'undefined') {\n            if (values_1[i].element.data[0] === arg1.element.data[0]) {\n              oldReference = values_1[i];\n              hasSameImageStream = true;\n            }\n          }\n        }\n      }\n\n      if (xobjects == null) {\n        xobjects = new PdfDictionary();\n        this.Dictionary.items.setValue(this.dictionaryProperties.xObject, xobjects);\n      }\n\n      if (hasSameImageStream && typeof oldReference !== 'undefined') {\n        xobjects.items.setValue(arg2.value, oldReference);\n      } else {\n        var reference = new PdfReferenceHolder(arg1.element);\n        xobjects.items.setValue(arg2.value, reference);\n\n        if (typeof this.pdfDocument !== 'undefined') {\n          parentXObjects.items.setValue(arg2.value, reference);\n        }\n      }\n      /* tslint:enable */\n\n    }\n  };\n\n  return PdfResources;\n}(PdfDictionary);\n\nexport { PdfResources };\n/* tslint:disable */\n\n/**\r\n * Used to create new guid for resources.\r\n * @private\r\n */\n\nvar Guid =\n/** @class */\nfunction () {\n  function Guid() {}\n  /**\r\n   * Generate `new GUID`.\r\n   * @private\r\n   */\n\n\n  Guid.getNewGuidString = function () {\n    return 'aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa'.replace(/[ab]/g, function (c) {\n      var random = Math.random() * 16 | 0;\n      var result = c === 'a' ? random : random & 0x3 | 0x8;\n      return result.toString(16);\n    });\n  };\n\n  return Guid;\n}();\n\nexport { Guid };\n/* tslint:enable */","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/pdf-resources.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","PdfDictionary","TemporaryDictionary","PdfName","PdfArray","PdfReferenceHolder","PdfCrossTable","PdfFont","PdfTemplate","PdfBrush","PdfTransparency","PdfBitmap","PdfImage","PdfGradientBrush","PdfTilingBrush","PdfResources","_super","baseDictionary","_this","call","properties","defineProperty","get","getNames","enumerable","configurable","pdfDocument","set","value","getName","obj","primitive","element","name","names","containsKey","getValue","sName","generateName","setValue","add","pdfNames","fonts","items","dictionaryProperties","font","reference","dictionary","dereference","requireProcedureSet","procedureSetName","Error","procSets","procset","contains","removeFont","key","keys","index","size","remove","Guid","getNewGuidString","arg1","arg2","xobjects","xObject","savable","pattern","transDic","extGState","Dictionary","parentXObjects","sections","resources","values","hasSameImageStream","oldReference","undefined","values_1","i","length","data","replace","c","random","Math","result","toString"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/**\r\n * PdfResources.ts class for EJ2-PDF\r\n */\r\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\r\nimport { TemporaryDictionary } from './../collections/object-object-pair/dictionary';\r\nimport { PdfName } from './../primitives/pdf-name';\r\nimport { PdfArray } from './../primitives/pdf-array';\r\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\r\nimport { PdfCrossTable } from './../input-output/pdf-cross-table';\r\nimport { PdfFont } from './fonts/pdf-font';\r\nimport { PdfTemplate } from './figures/pdf-template';\r\nimport { PdfBrush } from './brushes/pdf-brush';\r\nimport { PdfTransparency } from './pdf-transparency';\r\nimport { PdfBitmap } from './../graphics/images/pdf-bitmap';\r\nimport { PdfImage } from './../graphics/images/pdf-image';\r\nimport { PdfGradientBrush } from './brushes/pdf-gradient-brush';\r\nimport { PdfTilingBrush } from './brushes/pdf-tiling-brush';\r\n/**\r\n * `PdfResources` class used to set resource contents like font, image.\r\n * @private\r\n */\r\nvar PdfResources = /** @class */ (function (_super) {\r\n    __extends(PdfResources, _super);\r\n    function PdfResources(baseDictionary) {\r\n        var _this = _super.call(this, baseDictionary) || this;\r\n        /**\r\n         * Dictionary for the `properties names`.\r\n         * @private\r\n         */\r\n        _this.properties = new PdfDictionary();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(PdfResources.prototype, \"names\", {\r\n        //Properties\r\n        /**\r\n         * Gets the `font names`.\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.getNames();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfResources.prototype, \"document\", {\r\n        /**\r\n         * Get or set the `page document`.\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.pdfDocument;\r\n        },\r\n        set: function (value) {\r\n            this.pdfDocument = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    //Public Methods\r\n    /**\r\n     * `Generates name` for the object and adds to the resource if the object is new.\r\n     * @private\r\n     */\r\n    PdfResources.prototype.getName = function (obj) {\r\n        var primitive = obj.element;\r\n        var name = null;\r\n        if (this.names.containsKey(primitive)) {\r\n            name = this.names.getValue(primitive);\r\n        }\r\n        // Object is new.\r\n        if (name == null) {\r\n            var sName = this.generateName();\r\n            name = new PdfName(sName);\r\n            this.names.setValue(primitive, name);\r\n            if (obj instanceof PdfFont) {\r\n                this.add(obj, name);\r\n            }\r\n            else if (obj instanceof PdfTemplate) {\r\n                this.add(obj, name);\r\n            }\r\n            else if (obj instanceof PdfGradientBrush || obj instanceof PdfTilingBrush) {\r\n                this.add(obj, name);\r\n            }\r\n            else if (obj instanceof PdfTransparency) {\r\n                this.add(obj, name);\r\n            }\r\n            else if (obj instanceof PdfImage || obj instanceof PdfBitmap) {\r\n                this.add(obj, name);\r\n            }\r\n        }\r\n        return name;\r\n    };\r\n    /**\r\n     * Gets `resource names` to font dictionaries.\r\n     * @private\r\n     */\r\n    PdfResources.prototype.getNames = function () {\r\n        if (this.pdfNames == null) {\r\n            this.pdfNames = new TemporaryDictionary();\r\n        }\r\n        var fonts = this.items.getValue(this.dictionaryProperties.font);\r\n        if (fonts != null) {\r\n            var reference = fonts;\r\n            var dictionary = fonts;\r\n            dictionary = PdfCrossTable.dereference(fonts);\r\n        }\r\n        return this.pdfNames;\r\n    };\r\n    /**\r\n     * Add `RequireProcedureSet` into procset array.\r\n     * @private\r\n     */\r\n    PdfResources.prototype.requireProcedureSet = function (procedureSetName) {\r\n        if (procedureSetName == null) {\r\n            throw new Error('ArgumentNullException:procedureSetName');\r\n        }\r\n        var procSets = this.items.getValue(this.dictionaryProperties.procset);\r\n        if (procSets == null) {\r\n            procSets = new PdfArray();\r\n            this.items.setValue(this.dictionaryProperties.procset, procSets);\r\n        }\r\n        var name = new PdfName(procedureSetName);\r\n        if (!procSets.contains(name)) {\r\n            procSets.add(name);\r\n        }\r\n    };\r\n    //Helper Methods\r\n    /**\r\n     * `Remove font` from array.\r\n     * @private\r\n     */\r\n    PdfResources.prototype.removeFont = function (name) {\r\n        var key = null;\r\n        var keys = this.pdfNames.keys();\r\n        for (var index = 0; index < this.pdfNames.size(); index++) {\r\n            if (this.pdfNames.getValue(keys[index]) === new PdfName(name)) {\r\n                key = keys[index];\r\n                break;\r\n            }\r\n        }\r\n        if (key != null) {\r\n            this.pdfNames.remove(key);\r\n        }\r\n    };\r\n    /**\r\n     * Generates `Unique string name`.\r\n     * @private\r\n     */\r\n    PdfResources.prototype.generateName = function () {\r\n        var name = Guid.getNewGuidString();\r\n        return name;\r\n    };\r\n    PdfResources.prototype.add = function (arg1, arg2) {\r\n        if (arg1 instanceof PdfFont) {\r\n            var dictionary = null;\r\n            var fonts = this.items.getValue(this.dictionaryProperties.font);\r\n            if (fonts != null) {\r\n                var reference = fonts;\r\n                dictionary = fonts;\r\n                dictionary = fonts;\r\n            }\r\n            else {\r\n                dictionary = new PdfDictionary();\r\n                this.items.setValue(this.dictionaryProperties.font, dictionary);\r\n            }\r\n            dictionary.items.setValue(arg2.value, new PdfReferenceHolder(arg1.element));\r\n        }\r\n        else if (arg1 instanceof PdfTemplate) {\r\n            var xobjects = void 0;\r\n            xobjects = this.items.getValue(this.dictionaryProperties.xObject);\r\n            // Create fonts dictionary.\r\n            if (xobjects == null) {\r\n                xobjects = new PdfDictionary();\r\n                this.items.setValue(this.dictionaryProperties.xObject, xobjects);\r\n            }\r\n            xobjects.items.setValue(arg2.value, new PdfReferenceHolder(arg1.element));\r\n        }\r\n        else if (arg1 instanceof PdfBrush) {\r\n            if (arg1 instanceof PdfGradientBrush || arg1 instanceof PdfTilingBrush) {\r\n                var savable = arg1.element;\r\n                if (savable != null) {\r\n                    var pattern = this.items.getValue(this.dictionaryProperties.pattern);\r\n                    // Create a new pattern dictionary.\r\n                    if (pattern == null) {\r\n                        pattern = new PdfDictionary();\r\n                        this.items.setValue(this.dictionaryProperties.pattern, pattern);\r\n                    }\r\n                    pattern.items.setValue(arg2.value, new PdfReferenceHolder(savable));\r\n                }\r\n            }\r\n        }\r\n        else if (arg1 instanceof PdfTransparency) {\r\n            var savable = arg1.element;\r\n            var transDic = null;\r\n            transDic = this.items.getValue(this.dictionaryProperties.extGState);\r\n            // Create a new pattern dictionary.\r\n            if (transDic == null) {\r\n                transDic = new PdfDictionary();\r\n                this.items.setValue(this.dictionaryProperties.extGState, transDic);\r\n            }\r\n            transDic.items.setValue(arg2.value, new PdfReferenceHolder(savable));\r\n        }\r\n        else {\r\n            /* tslint:disable */\r\n            var xobjects = this.Dictionary.items.getValue(this.dictionaryProperties.xObject);\r\n            var parentXObjects = void 0;\r\n            if (typeof this.pdfDocument !== 'undefined') {\r\n                parentXObjects = this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject);\r\n            }\r\n            var values = this.Dictionary.items.values();\r\n            var hasSameImageStream = false;\r\n            var oldReference = void 0;\r\n            if (typeof this.pdfDocument !== 'undefined' && (typeof parentXObjects === undefined || parentXObjects == null)) {\r\n                parentXObjects = new PdfDictionary();\r\n                this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject, parentXObjects);\r\n            }\r\n            else if (typeof this.pdfDocument !== 'undefined') {\r\n                var values_1 = parentXObjects.items.values();\r\n                for (var i = 0; i < values_1.length; i++) {\r\n                    if (typeof values_1[i] !== 'undefined' && typeof values_1[i].element !== 'undefined') {\r\n                        if (values_1[i].element.data[0] === arg1.element.data[0]) {\r\n                            oldReference = values_1[i];\r\n                            hasSameImageStream = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (xobjects == null) {\r\n                xobjects = new PdfDictionary();\r\n                this.Dictionary.items.setValue(this.dictionaryProperties.xObject, xobjects);\r\n            }\r\n            if (hasSameImageStream && typeof oldReference !== 'undefined') {\r\n                xobjects.items.setValue(arg2.value, oldReference);\r\n            }\r\n            else {\r\n                var reference = new PdfReferenceHolder(arg1.element);\r\n                xobjects.items.setValue(arg2.value, reference);\r\n                if (typeof this.pdfDocument !== 'undefined') {\r\n                    parentXObjects.items.setValue(arg2.value, reference);\r\n                }\r\n            }\r\n            /* tslint:enable */\r\n        }\r\n    };\r\n    return PdfResources;\r\n}(PdfDictionary));\r\nexport { PdfResources };\r\n/* tslint:disable */\r\n/**\r\n * Used to create new guid for resources.\r\n * @private\r\n */\r\nvar Guid = /** @class */ (function () {\r\n    function Guid() {\r\n    }\r\n    /**\r\n     * Generate `new GUID`.\r\n     * @private\r\n     */\r\n    Guid.getNewGuidString = function () {\r\n        return 'aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa'.replace(/[ab]/g, function (c) {\r\n            var random = Math.random() * 16 | 0;\r\n            var result = c === 'a' ? random : (random & 0x3 | 0x8);\r\n            return result.toString(16);\r\n        });\r\n    };\r\n    return Guid;\r\n}());\r\nexport { Guid };\r\n/* tslint:enable */ \r\n"]},"metadata":{},"sourceType":"module"}