{"ast":null,"code":"import { compile as templateComplier } from '@syncfusion/ej2-base';\nimport { stringToNumber } from '../../common/utils/helper';\nimport { tooltipRender } from '../../common/model/constants';\nimport { BulletChartTheme } from '../utils/theme';\nimport { BulletChartAxis } from '../renderer/bullet-axis';\n/**\r\n * `BulletTooltip` module is used to render the tooltip for bullet chart.\r\n */\n\nvar BulletTooltip =\n/** @class */\nfunction () {\n  /**\r\n   * Constructor for tooltip module.\r\n   *\r\n   * @private\r\n   */\n  function BulletTooltip(bullet) {\n    this.control = bullet;\n    this.elementId = bullet.element.id;\n    this.bulletAxis = new BulletChartAxis(this.control);\n  }\n  /**\r\n   * To create tooltip div element\r\n   */\n\n\n  BulletTooltip.prototype._elementTooltip = function (e, targetClass, targetId, mouseX) {\n    var tooltipDiv = this.control.createElement('div');\n    tooltipDiv.id = 'tooltip';\n    tooltipDiv.className = 'tooltipDiv';\n    var target = e.target;\n    var pageX = mouseX + 20;\n    var pageY = e.clientY;\n    var str = '';\n    var font = this.control.tooltip.textStyle.fontStyle ? this.control.tooltip.textStyle.fontStyle : BulletChartTheme.tooltipLabelFont.fontStyle;\n    var fill = this.control.tooltip.fill ? this.control.tooltip.fill : this.control.themeStyle.tooltipFill;\n    var color = BulletChartTheme.tooltipLabelFont.color || this.control.themeStyle.tooltipBoldLabel;\n    var style = 'left:' + pageX + 'px;' + 'top:' + pageY + 'px;' + 'display: block; position: absolute; \"z-index\": \"13000\",cursor: default;' + 'font-family: Segoe UI;' + 'color:' + color + '; font-size: 13px; background-color:' + fill + '; border: 1px solid #707070;' + 'font-style:' + font + ';'; // adding css prop to the div\n\n    tooltipDiv.style.cssText = style;\n\n    if (targetClass === this.control.svgObject.id + '_Caption') {\n      str = target.textContent === this.control.title ? '' : this.control.title;\n    } else if (targetClass === this.control.svgObject.id + '_SubTitle') {\n      str = target.textContent === this.control.subtitle ? '' : this.control.subtitle;\n    }\n\n    if (str !== '') {\n      tooltipDiv.innerHTML = '&nbsp' + str + '&nbsp';\n      document.body.insertAdjacentElement('afterbegin', tooltipDiv);\n    }\n  };\n  /**\r\n   * To display the bullet chart tooltip\r\n   */\n  // tslint:disable-next-line:max-func-body-length\n\n\n  BulletTooltip.prototype._displayTooltip = function (e, targetClass, targetId, mouseX, mouseY) {\n    if (targetClass !== 'undefined' && this.control.tooltip.enable && (targetClass === this.control.svgObject.id + '_FeatureMeasure' || targetClass === this.control.svgObject.id + '_ComparativeMeasure')) {\n      var data = void 0;\n      var tooltipData = void 0;\n      var measureId = void 0;\n      var currentVal = void 0;\n      var targetVal = [];\n      var categoryVal = void 0;\n      var tooltipdiv = void 0;\n      var format = this.bulletAxis.getFormat(this.control);\n      var isCustomFormat = format.match('{value}') !== null;\n      measureId = targetId.substring(targetId.lastIndexOf('_') + 1);\n      var targetValues = [];\n      this.bulletAxis.format = this.bulletAxis.bulletChart.intl.getNumberFormat({\n        format: isCustomFormat ? '' : format,\n        useGrouping: this.bulletAxis.bulletChart.enableGroupSeparator\n      });\n      currentVal = this.control.dataSource[measureId][this.control.valueField];\n      targetVal = targetVal.concat(this.control.dataSource[measureId][this.control.targetField]);\n      categoryVal = this.control.dataSource[measureId][this.control.categoryField];\n      var labelCurrentText = currentVal ? currentVal.toString() : '';\n      var labelTargetText = targetVal ? targetVal.toString() : '';\n      var labelCategoryText = categoryVal ? categoryVal.toString() : '';\n      labelCurrentText = this.bulletAxis.formatValue(this.bulletAxis, isCustomFormat, format, +currentVal);\n\n      for (var i = 0; i < targetVal.length; i++) {\n        targetValues = targetValues.concat(this.bulletAxis.formatValue(this.bulletAxis, isCustomFormat, format, +targetVal[i]));\n      }\n\n      labelCategoryText = this.bulletAxis.formatValue(this.bulletAxis, isCustomFormat, format, +categoryVal);\n      data = {\n        value: labelCurrentText,\n        target: targetValues,\n        category: labelCategoryText\n      };\n      tooltipData = {\n        value: labelCurrentText,\n        target: labelTargetText,\n        category: labelCategoryText\n      };\n      var style = 'position: absolute; z-index: 13000; display: block;';\n\n      if (document.getElementsByClassName('tooltipDiv' + this.control.element.id).length === 0) {\n        tooltipdiv = this.control.createElement('div');\n        tooltipdiv.id = 'tooltipDiv' + this.control.element.id;\n        tooltipdiv.style.cssText = style;\n        document.getElementById(this.control.element.id + '_Secondary_Element').appendChild(tooltipdiv);\n      }\n\n      var argsData = {\n        value: data.value,\n        target: data.target,\n        name: tooltipRender\n      };\n\n      if (this.control.tooltip.template !== '' && this.control.tooltip.template != null) {\n        this.updateTemplateFn();\n        var elem = this.control.createElement('div', {\n          id: this.control.element.id + 'parent_template'\n        });\n        var templateElement = this.templateFn(tooltipData, this.control, 'template', elem.id + '_blazorTemplate', '', null, elem);\n\n        while (templateElement && templateElement.length > 0) {\n          if (templateElement.length === 1) {\n            elem.appendChild(templateElement[0]);\n            templateElement = null;\n          } else {\n            elem.appendChild(templateElement[0]);\n          }\n        }\n\n        argsData.template = elem.innerHTML;\n        this.control.trigger(tooltipRender, argsData);\n        elem.innerHTML = argsData.template;\n        tooltipdiv.appendChild(elem);\n      } else {\n        var argsText = 'Value : ' + argsData.value;\n\n        for (var i = 0; i < argsData.target.length; i++) {\n          argsText += '<br/> Target' + (i === 0 ? '' : '_' + i) + ' : ' + argsData.target[i];\n        }\n\n        argsData.text = argsText;\n        this.control.trigger(tooltipRender, argsData);\n        tooltipdiv.innerHTML = argsData.text;\n        tooltipdiv.style.font = this.control.tooltip.textStyle.fontStyle ? this.control.tooltip.textStyle.fontStyle : BulletChartTheme.tooltipLabelFont.fontStyle;\n        tooltipdiv.style.color = BulletChartTheme.tooltipLabelFont.color || this.control.themeStyle.tooltipBoldLabel;\n        tooltipdiv.style.fontSize = BulletChartTheme.titleFont.size;\n      }\n\n      var fill = this.control.tooltip.fill ? this.control.tooltip.fill : this.control.themeStyle.tooltipFill;\n      var borderWidth = this.control.tooltip.border.width ? this.control.tooltip.border.width : 1;\n      var borderColor = this.control.tooltip.border.color ? this.control.tooltip.border.color : 'Black';\n      var xPos = mouseX;\n      var yPos = mouseY;\n      xPos = xPos + stringToNumber(tooltipdiv.getAttribute('width'), this.control.containerWidth) < window.innerWidth ? xPos : stringToNumber(tooltipdiv.getAttribute('width'), this.control.containerWidth);\n      yPos = yPos + stringToNumber(tooltipdiv.getAttribute('height'), this.control.containerHeight) < window.innerHeight ? yPos : stringToNumber(tooltipdiv.getAttribute('height'), this.control.containerHeight);\n\n      if (xPos === undefined || xPos === null) {\n        xPos = mouseX;\n      }\n\n      if (yPos === undefined || yPos === null) {\n        yPos = e.clientY;\n      }\n\n      if (this.control.tooltip.template !== '' && this.control.tooltip.template != null) {\n        tooltipdiv.style.cssText = 'position: absolute;left:' + (xPos + 20) + 'px;' + 'top:' + (yPos + 20) + 'px;';\n      } else {\n        var divStyle = style + 'left:' + (xPos + 20) + 'px;' + 'top:' + (yPos + 20) + 'px;' + '-webkit-border-radius: 5px 5px 5px 5px; -moz-border-radius: 5px 5px 5px 5px;-o-border-radius: 5px 5px 5px 5px;' + 'border-radius: 5px 5px 5px 5px;' + 'background-color:' + fill + ';' + 'color:' + tooltipdiv.style.color + '; border:' + borderWidth + 'px Solid' + ' ' + borderColor + ';' + 'padding-bottom: 7px;' + 'font-style:' + BulletChartTheme.tooltipLabelFont.fontStyle + '; padding-left: 10px; font-family: Segoe UI; padding-right: 10px; padding-top: 7px';\n        tooltipdiv.style.cssText = divStyle;\n\n        if (targetClass === this.control.svgObject.id + '_FeatureMeasure' || targetClass === this.control.svgObject.id + '_ComparativeMeasure') {\n          document.getElementById(targetId).setAttribute('opacity', '0.6');\n        }\n      } // tslint:disable-next-line:no-any\n\n\n      if (this.control.isReact) {\n        this.control.renderReactTemplates();\n      }\n    }\n  };\n  /**\r\n   * To update template values in the tooltip\r\n   */\n\n\n  BulletTooltip.prototype.updateTemplateFn = function () {\n    if (this.control.tooltip.template) {\n      try {\n        if (document.querySelectorAll(this.control.tooltip.template).length) {\n          this.templateFn = templateComplier(document.querySelector(this.control.tooltip.template).innerHTML.trim());\n        }\n      } catch (e) {\n        this.templateFn = templateComplier(this.control.tooltip.template);\n      }\n    }\n  };\n  /**\r\n   * Get module name.\r\n   */\n\n\n  BulletTooltip.prototype.getModuleName = function () {\n    return 'BulletTooltip';\n  };\n  /**\r\n   * To destroy the tooltip.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  BulletTooltip.prototype.destroy = function () {// Destroy method called here\n  };\n\n  return BulletTooltip;\n}();\n\nexport { BulletTooltip };","map":{"version":3,"sources":["C:/Users/amase/Desktop/open_dsa/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-charts/src/bullet-chart/user-interaction/tooltip.js"],"names":["compile","templateComplier","stringToNumber","tooltipRender","BulletChartTheme","BulletChartAxis","BulletTooltip","bullet","control","elementId","element","id","bulletAxis","prototype","_elementTooltip","e","targetClass","targetId","mouseX","tooltipDiv","createElement","className","target","pageX","pageY","clientY","str","font","tooltip","textStyle","fontStyle","tooltipLabelFont","fill","themeStyle","tooltipFill","color","tooltipBoldLabel","style","cssText","svgObject","textContent","title","subtitle","innerHTML","document","body","insertAdjacentElement","_displayTooltip","mouseY","enable","data","tooltipData","measureId","currentVal","targetVal","categoryVal","tooltipdiv","format","getFormat","isCustomFormat","match","substring","lastIndexOf","targetValues","bulletChart","intl","getNumberFormat","useGrouping","enableGroupSeparator","dataSource","valueField","concat","targetField","categoryField","labelCurrentText","toString","labelTargetText","labelCategoryText","formatValue","i","length","value","category","getElementsByClassName","getElementById","appendChild","argsData","name","template","updateTemplateFn","elem","templateElement","templateFn","trigger","argsText","text","fontSize","titleFont","size","borderWidth","border","width","borderColor","xPos","yPos","getAttribute","containerWidth","window","innerWidth","containerHeight","innerHeight","undefined","divStyle","setAttribute","isReact","renderReactTemplates","querySelectorAll","querySelector","trim","getModuleName","destroy"],"mappings":"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","sourcesContent":["import { compile as templateComplier } from '@syncfusion/ej2-base';\r\nimport { stringToNumber } from '../../common/utils/helper';\r\nimport { tooltipRender } from '../../common/model/constants';\r\nimport { BulletChartTheme } from '../utils/theme';\r\nimport { BulletChartAxis } from '../renderer/bullet-axis';\r\n/**\r\n * `BulletTooltip` module is used to render the tooltip for bullet chart.\r\n */\r\nvar BulletTooltip = /** @class */ (function () {\r\n    /**\r\n     * Constructor for tooltip module.\r\n     *\r\n     * @private\r\n     */\r\n    function BulletTooltip(bullet) {\r\n        this.control = bullet;\r\n        this.elementId = bullet.element.id;\r\n        this.bulletAxis = new BulletChartAxis(this.control);\r\n    }\r\n    /**\r\n     * To create tooltip div element\r\n     */\r\n    BulletTooltip.prototype._elementTooltip = function (e, targetClass, targetId, mouseX) {\r\n        var tooltipDiv = this.control.createElement('div');\r\n        tooltipDiv.id = 'tooltip';\r\n        tooltipDiv.className = 'tooltipDiv';\r\n        var target = e.target;\r\n        var pageX = mouseX + 20;\r\n        var pageY = e.clientY;\r\n        var str = '';\r\n        var font = this.control.tooltip.textStyle.fontStyle ? this.control.tooltip.textStyle.fontStyle :\r\n            BulletChartTheme.tooltipLabelFont.fontStyle;\r\n        var fill = this.control.tooltip.fill ? this.control.tooltip.fill : this.control.themeStyle.tooltipFill;\r\n        var color = BulletChartTheme.tooltipLabelFont.color || this.control.themeStyle.tooltipBoldLabel;\r\n        var style = 'left:' + pageX + 'px;' + 'top:' + pageY + 'px;' +\r\n            'display: block; position: absolute; \"z-index\": \"13000\",cursor: default;' +\r\n            'font-family: Segoe UI;' + 'color:' + color + '; font-size: 13px; background-color:' +\r\n            fill + '; border: 1px solid #707070;' + 'font-style:' + font + ';';\r\n        // adding css prop to the div\r\n        tooltipDiv.style.cssText = style;\r\n        if (targetClass === this.control.svgObject.id + '_Caption') {\r\n            str = target.textContent === this.control.title ? '' : this.control.title;\r\n        }\r\n        else if (targetClass === this.control.svgObject.id + '_SubTitle') {\r\n            str = target.textContent === this.control.subtitle ? '' : this.control.subtitle;\r\n        }\r\n        if (str !== '') {\r\n            tooltipDiv.innerHTML = '&nbsp' + str + '&nbsp';\r\n            document.body.insertAdjacentElement('afterbegin', tooltipDiv);\r\n        }\r\n    };\r\n    /**\r\n     * To display the bullet chart tooltip\r\n     */\r\n    // tslint:disable-next-line:max-func-body-length\r\n    BulletTooltip.prototype._displayTooltip = function (e, targetClass, targetId, mouseX, mouseY) {\r\n        if (targetClass !== 'undefined' && this.control.tooltip.enable && (targetClass === this.control.svgObject.id + '_FeatureMeasure' ||\r\n            targetClass === this.control.svgObject.id + '_ComparativeMeasure')) {\r\n            var data = void 0;\r\n            var tooltipData = void 0;\r\n            var measureId = void 0;\r\n            var currentVal = void 0;\r\n            var targetVal = [];\r\n            var categoryVal = void 0;\r\n            var tooltipdiv = void 0;\r\n            var format = this.bulletAxis.getFormat(this.control);\r\n            var isCustomFormat = format.match('{value}') !== null;\r\n            measureId = targetId.substring(targetId.lastIndexOf('_') + 1);\r\n            var targetValues = [];\r\n            this.bulletAxis.format = this.bulletAxis.bulletChart.intl.getNumberFormat({\r\n                format: isCustomFormat ? '' : format, useGrouping: this.bulletAxis.bulletChart.enableGroupSeparator\r\n            });\r\n            currentVal = this.control.dataSource[measureId][this.control.valueField];\r\n            targetVal = targetVal.concat(this.control.dataSource[measureId][this.control.targetField]);\r\n            categoryVal = this.control.dataSource[measureId][this.control.categoryField];\r\n            var labelCurrentText = currentVal ? (currentVal).toString() : '';\r\n            var labelTargetText = targetVal ? (targetVal).toString() : '';\r\n            var labelCategoryText = categoryVal ? (categoryVal).toString() : '';\r\n            labelCurrentText = this.bulletAxis.formatValue(this.bulletAxis, isCustomFormat, format, +currentVal);\r\n            for (var i = 0; i < targetVal.length; i++) {\r\n                targetValues = targetValues.concat(this.bulletAxis.formatValue(this.bulletAxis, isCustomFormat, format, +targetVal[i]));\r\n            }\r\n            labelCategoryText = this.bulletAxis.formatValue(this.bulletAxis, isCustomFormat, format, +categoryVal);\r\n            data = { value: labelCurrentText, target: targetValues, category: labelCategoryText };\r\n            tooltipData = { value: labelCurrentText, target: labelTargetText, category: labelCategoryText };\r\n            var style = 'position: absolute; z-index: 13000; display: block;';\r\n            if (document.getElementsByClassName('tooltipDiv' + this.control.element.id).length === 0) {\r\n                tooltipdiv = this.control.createElement('div');\r\n                tooltipdiv.id = 'tooltipDiv' + this.control.element.id;\r\n                tooltipdiv.style.cssText = style;\r\n                document.getElementById(this.control.element.id + '_Secondary_Element').appendChild(tooltipdiv);\r\n            }\r\n            var argsData = {\r\n                value: data.value, target: data.target, name: tooltipRender\r\n            };\r\n            if (this.control.tooltip.template !== '' && this.control.tooltip.template != null) {\r\n                this.updateTemplateFn();\r\n                var elem = this.control.createElement('div', { id: this.control.element.id + 'parent_template' });\r\n                var templateElement = this.templateFn(tooltipData, this.control, 'template', elem.id + '_blazorTemplate', '', null, elem);\r\n                while (templateElement && templateElement.length > 0) {\r\n                    if (templateElement.length === 1) {\r\n                        elem.appendChild(templateElement[0]);\r\n                        templateElement = null;\r\n                    }\r\n                    else {\r\n                        elem.appendChild(templateElement[0]);\r\n                    }\r\n                }\r\n                argsData.template = elem.innerHTML;\r\n                this.control.trigger(tooltipRender, argsData);\r\n                elem.innerHTML = argsData.template;\r\n                tooltipdiv.appendChild(elem);\r\n            }\r\n            else {\r\n                var argsText = 'Value : ' + argsData.value;\r\n                for (var i = 0; i < argsData.target.length; i++) {\r\n                    argsText += '<br/> Target' + (i === 0 ? '' : '_' + i) + ' : ' + argsData.target[i];\r\n                }\r\n                argsData.text = argsText;\r\n                this.control.trigger(tooltipRender, argsData);\r\n                tooltipdiv.innerHTML = argsData.text;\r\n                tooltipdiv.style.font = this.control.tooltip.textStyle.fontStyle ? this.control.tooltip.textStyle.fontStyle :\r\n                    BulletChartTheme.tooltipLabelFont.fontStyle;\r\n                tooltipdiv.style.color = BulletChartTheme.tooltipLabelFont.color || this.control.themeStyle.tooltipBoldLabel;\r\n                tooltipdiv.style.fontSize = BulletChartTheme.titleFont.size;\r\n            }\r\n            var fill = this.control.tooltip.fill ? this.control.tooltip.fill : this.control.themeStyle.tooltipFill;\r\n            var borderWidth = this.control.tooltip.border.width ? this.control.tooltip.border.width : 1;\r\n            var borderColor = this.control.tooltip.border.color ? this.control.tooltip.border.color : 'Black';\r\n            var xPos = mouseX;\r\n            var yPos = mouseY;\r\n            xPos = ((xPos + stringToNumber(tooltipdiv.getAttribute('width'), this.control.containerWidth) < window.innerWidth) ?\r\n                (xPos) : stringToNumber(tooltipdiv.getAttribute('width'), this.control.containerWidth));\r\n            yPos = ((yPos + stringToNumber(tooltipdiv.getAttribute('height'), this.control.containerHeight) < window.innerHeight) ?\r\n                (yPos) : stringToNumber(tooltipdiv.getAttribute('height'), this.control.containerHeight));\r\n            if (xPos === undefined || xPos === null) {\r\n                xPos = mouseX;\r\n            }\r\n            if (yPos === undefined || yPos === null) {\r\n                yPos = e.clientY;\r\n            }\r\n            if (this.control.tooltip.template !== '' && this.control.tooltip.template != null) {\r\n                tooltipdiv.style.cssText = 'position: absolute;left:' + (xPos + 20) + 'px;' + 'top:' + (yPos + 20) + 'px;';\r\n            }\r\n            else {\r\n                var divStyle = style + 'left:' + (xPos + 20) + 'px;' + 'top:' + (yPos + 20) + 'px;' +\r\n                    '-webkit-border-radius: 5px 5px 5px 5px; -moz-border-radius: 5px 5px 5px 5px;-o-border-radius: 5px 5px 5px 5px;' +\r\n                    'border-radius: 5px 5px 5px 5px;' + 'background-color:' + fill + ';' + 'color:' +\r\n                    tooltipdiv.style.color + '; border:' + borderWidth + 'px Solid' + ' ' + borderColor + ';' +\r\n                    'padding-bottom: 7px;' + 'font-style:' + BulletChartTheme.tooltipLabelFont.fontStyle +\r\n                    '; padding-left: 10px; font-family: Segoe UI; padding-right: 10px; padding-top: 7px';\r\n                tooltipdiv.style.cssText = divStyle;\r\n                if ((targetClass === this.control.svgObject.id + '_FeatureMeasure') ||\r\n                    (targetClass === this.control.svgObject.id + '_ComparativeMeasure')) {\r\n                    document.getElementById(targetId).setAttribute('opacity', '0.6');\r\n                }\r\n            }\r\n            // tslint:disable-next-line:no-any\r\n            if (this.control.isReact) {\r\n                this.control.renderReactTemplates();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To update template values in the tooltip\r\n     */\r\n    BulletTooltip.prototype.updateTemplateFn = function () {\r\n        if (this.control.tooltip.template) {\r\n            try {\r\n                if (document.querySelectorAll(this.control.tooltip.template).length) {\r\n                    this.templateFn = templateComplier(document.querySelector(this.control.tooltip.template).innerHTML.trim());\r\n                }\r\n            }\r\n            catch (e) {\r\n                this.templateFn = templateComplier(this.control.tooltip.template);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Get module name.\r\n     */\r\n    BulletTooltip.prototype.getModuleName = function () {\r\n        return 'BulletTooltip';\r\n    };\r\n    /**\r\n     * To destroy the tooltip.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    BulletTooltip.prototype.destroy = function () {\r\n        // Destroy method called here\r\n    };\r\n    return BulletTooltip;\r\n}());\r\nexport { BulletTooltip };\r\n"]},"metadata":{},"sourceType":"module"}